{"ast":null,"code":"var _jsxFileName = \"/Users/malkasyed/LiftOff/frontend/src/PaymentPage/PaymentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PaymentPage = () => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const {\n    flightId\n  } = state || {};\n  const navigate = useNavigate();\n  const [flight, setFlight] = useState(null);\n  const [passengerCount, setPassengerCount] = useState(1);\n  const [seatingPreference, setSeatingPreference] = useState(\"together\");\n  const user = JSON.parse(localStorage.getItem(\"liftoffUser\"));\n  const userId = user ? user._id : null;\n  const [passengerList, setPassengerList] = useState([{\n    fullName: \"\",\n    age: \"\"\n  }]);\n  const [email, setEmail] = useState(\"\");\n  const [cardName, setCardName] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [cvv, setCvv] = useState(\"\");\n  const [savedCard, setSavedCard] = useState(null);\n  const [useSavedCard, setUseSavedCard] = useState(false);\n  const [prevCardValues, setPrevCardValues] = useState(null);\n  const [savePaymentChecked, setSavePaymentChecked] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isConfirmed, setIsConfirmed] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [rewards, setRewards] = useState(null);\n  const [rewardsLoading, setRewardsLoading] = useState(false);\n  const [useRewards, setUseRewards] = useState(false);\n  const [rewardsToUse, setRewardsToUse] = useState(0);\n  const [errors, setErrors] = useState({\n    email: \"\",\n    cardName: \"\",\n    cardNumber: \"\",\n    expiry: \"\",\n    cvv: \"\"\n  });\n  useEffect(() => {\n    if (!flightId) return;\n    axios.get(`http://localhost:9000/flights/${flightId}`).then(res => setFlight(res.data)).catch(err => console.error(\"Failed to fetch flight:\", err));\n  }, [flightId]);\n\n  // Fetch saved card for logged-in user (if any)\n  useEffect(() => {\n    if (!userId) return;\n    axios.get(`http://localhost:9000/userCard/${userId}`).then(res => {\n      if (res.data) {\n        setSavedCard(res.data);\n      }\n    }).catch(err => {\n      console.error(\"Failed to fetch saved card:\", err);\n    });\n  }, [userId]);\n\n  // Fetch rewards for logged-in user\n  useEffect(() => {\n    if (!userId) return;\n    setRewardsLoading(true);\n    axios.get(`http://localhost:9000/user/points/${userId}`).then(res => {\n      if (res.data) {\n        setRewards(res.data);\n      }\n    }).catch(err => {\n      console.error(\"Failed to fetch rewards:\", err);\n    }).finally(() => setRewardsLoading(false));\n  }, [userId]);\n  if (!flight) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20\n      },\n      children: \"Loading flight information...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  }\n  const basePrice = flight.price;\n  const tax = basePrice * passengerCount * 0.03;\n  let subtotal = basePrice * passengerCount + tax;\n\n  // Calculate discount from rewards (100 points = $1, so divide by 100)\n  let rewardsDiscount = 0;\n  if (useRewards && rewardsToUse > 0) {\n    rewardsDiscount = rewardsToUse / 10000 * 100; // 10,000 points = $100 off\n    rewardsDiscount = Math.min(rewardsDiscount, subtotal); // Can't discount more than total\n  }\n  const total = (subtotal - rewardsDiscount).toFixed(2);\n  const handlePassengerCountChange = e => {\n    const count = parseInt(e.target.value);\n    setPassengerCount(count);\n    let updated = [...passengerList];\n    if (count > updated.length) {\n      for (let i = updated.length; i < count; i++) {\n        updated.push({\n          fullName: \"\",\n          age: \"\"\n        });\n      }\n    } else {\n      updated = updated.slice(0, count);\n    }\n    setPassengerList(updated);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    let newErrors = {\n      email: \"\",\n      cardName: \"\",\n      cardNumber: \"\",\n      expiry: \"\",\n      cvv: \"\"\n    };\n    if (!email) {\n      newErrors.email = \"Email is required.\";\n    } else if (!email.includes(\"@\")) {\n      newErrors.email = \"Please enter a valid email address.\";\n    }\n    if (!cardName) {\n      newErrors.cardName = \"Cardholder name is required.\";\n    } else if (cardName.trim().length < 2) {\n      newErrors.cardName = \"Please enter a valid cardholder name.\";\n    }\n    if (!cardNumber) {\n      newErrors.cardNumber = \"Card number is required.\";\n    } else if (cardNumber.length !== 16) {\n      newErrors.cardNumber = \"Card number must be 16 digits.\";\n    }\n    if (!expiry) {\n      newErrors.expiry = \"Expiration date is required.\";\n    } else if (!expiry.includes(\"/\")) {\n      newErrors.expiry = \"Expiration must be in MM/YY format.\";\n    } else {\n      const month = parseInt(expiry.split(\"/\")[0]);\n      if (month < 1 || month > 12) {\n        newErrors.expiry = \"Invalid expiration month (01-12).\";\n      }\n    }\n    if (!cvv) {\n      newErrors.cvv = \"CVV is required.\";\n    } else if (cvv.length < 3 || cvv.length > 4) {\n      newErrors.cvv = \"CVV must be 3 or 4 digits.\";\n    }\n    setErrors(newErrors);\n    if (!email || !cardName || !cardNumber || !expiry || !cvv) {\n      setMessage(\"⚠️ Please fill all fields.\");\n      return;\n    }\n    if (Object.values(newErrors).some(error => error !== \"\")) {\n      setMessage(\"⚠️ Please fix the errors above.\");\n      return;\n    }\n    for (let p of passengerList) {\n      if (!p.fullName || !p.age) {\n        setMessage(\"⚠️ Complete all passenger details.\");\n        return;\n      }\n    }\n    setIsLoading(true);\n    setTimeout(() => {\n      setIsLoading(false);\n      saveBookingToDB();\n    }, 2000);\n  };\n  const saveBookingToDB = async () => {\n    const user = JSON.parse(localStorage.getItem(\"liftoffUser\"));\n    const bookingData = {\n      userId: user ? user._id : null,\n      name: passengerList[0].fullName,\n      email: email,\n      flightId: flight._id,\n      airline: flight.airline,\n      from: flight.from,\n      to: flight.to,\n      depart: flight.depart,\n      arrive: flight.arrive,\n      date: flight.date,\n      passengerCount,\n      passengers: passengerList,\n      seatingPreference,\n      price: total\n    };\n    try {\n      const response = await axios.post(\"http://localhost:9000/bookFlight\", bookingData);\n      console.log(\"✅ Booking saved:\", response.data.booking);\n      setIsConfirmed(true);\n\n      // After booking succeeds, if user opted to save payment and they don't already have a saved card,\n      // persist card details (excluding CVV) to the database and update local state.\n      if (user && user._id && savePaymentChecked && !savedCard) {\n        try {\n          const cardPayload = {\n            userId: user._id,\n            cardNumber,\n            cardHolder: cardName,\n            expiry\n          };\n          const saveRes = await axios.post(\"http://localhost:9000/saveCard\", cardPayload);\n          if (saveRes.data && saveRes.data.card) {\n            setSavedCard(saveRes.data.card);\n            // clear the checkbox after saving\n            setSavePaymentChecked(false);\n          }\n        } catch (err) {\n          console.error(\"Failed to save card:\", err);\n        }\n      }\n    } catch (error) {\n      console.error(\"❌ Booking failed:\", error);\n      setMessage(\"Something went wrong while booking. Please try again.\");\n    }\n  };\n  function generateCode() {\n    return \"LIFT-\" + Math.random().toString(36).substring(2, 8).toUpperCase();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      style: styles.hero,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.heroInner,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.title,\n          children: \"Complete Your Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.loadingCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.spinner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginTop: 20\n            },\n            children: \"Processing your payment...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this) : isConfirmed ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.confirmCard,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              color: \"#28a745\",\n              marginBottom: 10\n            },\n            children: \"Payment Successful!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"A confirmation email has been sent to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 56\n            }, this), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Flight Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                lineHeight: \"1.6\",\n                fontSize: \"15px\",\n                marginLeft: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Airline:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.airline, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Flight Number:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.flightNo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                style: styles.separator\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Route:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.fromFull, \" (\", flight === null || flight === void 0 ? void 0 : flight.from, \") \\u2192\", \" \", flight === null || flight === void 0 ? void 0 : flight.toFull, \" (\", flight === null || flight === void 0 ? void 0 : flight.to, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Departure Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Departure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.depart, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Arrival:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.arrive]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), \" \", flight === null || flight === void 0 ? void 0 : flight.durationMin, \" minutes\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Stops:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), \" \", (flight === null || flight === void 0 ? void 0 : flight.stops) === 0 ? \"Nonstop\" : `${flight === null || flight === void 0 ? void 0 : flight.stops} stop(s)`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), (flight === null || flight === void 0 ? void 0 : flight.stops) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Stopover Details:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this), flight.stopInfo.map((stop, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    marginLeft: 15\n                  },\n                  children: [\"Stop \", index + 1, \": \", stop.fullName, \" (\", stop.code, \") \\u2014\", \" \", stop.durationMin, \" min\"]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                style: styles.separator\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Base Fare:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), \" $\", basePrice, \" \\xD7 \", passengerCount, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tax:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), \" $\", tax, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  style: {\n                    fontSize: \"17px\"\n                  },\n                  children: [\"Total: $\", total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Booking Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.twoColumn,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Number of Passengers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: passengerCount,\n                  onChange: handlePassengerCountChange,\n                  style: styles.input,\n                  children: Array.from({\n                    length: 10\n                  }, (_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: i + 1,\n                    children: i + 1\n                  }, i + 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Seating Preference\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: \"20px\",\n                    marginTop: \"6px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      value: \"together\",\n                      checked: seatingPreference === \"together\",\n                      onChange: e => setSeatingPreference(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 25\n                    }, this), \" \", \"Sit Together\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      value: \"separate\",\n                      checked: seatingPreference === \"separate\",\n                      onChange: e => setSeatingPreference(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 25\n                    }, this), \" \", \"Sit Separate\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Passenger Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), passengerList.map((p, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.passengerCard,\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Passenger \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.twoColumn,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Full Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    style: styles.input,\n                    value: p.fullName,\n                    onChange: e => {\n                      const updated = [...passengerList];\n                      updated[index].fullName = e.target.value;\n                      setPassengerList(updated);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Age\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    style: styles.input,\n                    value: p.age,\n                    onChange: e => {\n                      const updated = [...passengerList];\n                      updated[index].age = e.target.value;\n                      setPassengerList(updated);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Payment Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this), userId && savedCard && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: useSavedCard,\n                  onChange: e => {\n                    const checked = e.target.checked;\n                    if (checked) {\n                      // keep a copy of current values to restore when unchecked\n                      setPrevCardValues({\n                        cardName,\n                        cardNumber,\n                        expiry,\n                        cvv\n                      });\n                      setCardName(savedCard.cardHolder || \"\");\n                      setCardNumber(savedCard.cardNumber || \"\");\n                      setExpiry(savedCard.expiry || \"\");\n                      setCvv(\"\");\n                      setUseSavedCard(true);\n                    } else {\n                      // restore previous values or clear\n                      if (prevCardValues) {\n                        setCardName(prevCardValues.cardName || \"\");\n                        setCardNumber(prevCardValues.cardNumber || \"\");\n                        setExpiry(prevCardValues.expiry || \"\");\n                        setCvv(prevCardValues.cvv || \"\");\n                      } else {\n                        setCardName(\"\");\n                        setCardNumber(\"\");\n                        setExpiry(\"\");\n                        setCvv(\"\");\n                      }\n                      setUseSavedCard(false);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Use saved payment info for the payment details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  style: {\n                    marginLeft: 12,\n                    color: \"#6c757d\"\n                  },\n                  children: [\"(card ending in \", savedCard.cardNumber ? savedCard.cardNumber.slice(-4) : \"—\", \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email for Receipt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                style: {\n                  ...styles.input,\n                  borderColor: errors.email ? \"#dc3545\" : \"#cfd7df\"\n                },\n                placeholder: \"example@email.com\",\n                value: email,\n                onChange: e => {\n                  setEmail(e.target.value);\n                  if (errors.email) {\n                    setErrors({\n                      ...errors,\n                      email: \"\"\n                    });\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: styles.errorMessage,\n                children: errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name on Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  ...styles.input,\n                  borderColor: errors.cardName ? \"#dc3545\" : \"#cfd7df\"\n                },\n                placeholder: \"John Doe\",\n                value: cardName,\n                onChange: e => {\n                  setCardName(e.target.value);\n                  if (errors.cardName) {\n                    setErrors({\n                      ...errors,\n                      cardName: \"\"\n                    });\n                  }\n                },\n                disabled: useSavedCard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this), errors.cardName && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: styles.errorMessage,\n                children: errors.cardName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Card Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                style: {\n                  ...styles.input,\n                  borderColor: errors.cardNumber ? \"#dc3545\" : \"#cfd7df\"\n                },\n                placeholder: \"1234 5678 9012 3456\",\n                maxLength: \"16\",\n                value: cardNumber,\n                onChange: e => {\n                  const value = e.target.value.replace(/\\D/g, \"\");\n                  setCardNumber(value);\n                  if (errors.cardNumber) {\n                    setErrors({\n                      ...errors,\n                      cardNumber: \"\"\n                    });\n                  }\n                },\n                disabled: useSavedCard\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), errors.cardNumber && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: styles.errorMessage,\n                children: errors.cardNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.twoColumn,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Expiration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  style: {\n                    ...styles.input,\n                    borderColor: errors.expiry ? \"#dc3545\" : \"#cfd7df\"\n                  },\n                  placeholder: \"MM/YY\",\n                  maxLength: \"5\",\n                  value: expiry,\n                  onChange: e => {\n                    let value = e.target.value.replace(/\\D/g, \"\");\n                    if (value.length >= 2) {\n                      value = value.slice(0, 2) + \"/\" + value.slice(2, 4);\n                    }\n                    setExpiry(value);\n                    if (errors.expiry) {\n                      setErrors({\n                        ...errors,\n                        expiry: \"\"\n                      });\n                    }\n                  },\n                  disabled: useSavedCard\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 21\n                }, this), errors.expiry && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: styles.errorMessage,\n                  children: errors.expiry\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"CVV\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  style: {\n                    ...styles.input,\n                    borderColor: errors.cvv ? \"#dc3545\" : \"#cfd7df\"\n                  },\n                  placeholder: \"123\",\n                  maxLength: \"4\",\n                  value: cvv,\n                  onChange: e => {\n                    const value = e.target.value.replace(/\\D/g, \"\");\n                    setCvv(value);\n                    if (errors.cvv) {\n                      setErrors({\n                        ...errors,\n                        cvv: \"\"\n                      });\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this), errors.cvv && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: styles.errorMessage,\n                  children: errors.cvv\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this), userId && !savedCard && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                marginTop: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: savePaymentChecked,\n                  onChange: e => setSavePaymentChecked(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 14\n                  },\n                  children: \"Save payment details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), userId && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Your Rewards\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 19\n            }, this), rewardsLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: \"center\",\n                color: \"#666\"\n              },\n              children: \"Loading rewards...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 21\n            }, this) : rewards ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.rewardsHeader,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.pointsDisplay,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: 14,\n                      color: \"#666\",\n                      margin: \"0 0 5px 0\"\n                    },\n                    children: \"Total Points\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: 32,\n                      fontWeight: 700,\n                      color: \"#2f6feb\",\n                      margin: 0\n                    },\n                    children: rewards.totalPoints\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"#666\",\n                    fontSize: 13,\n                    marginLeft: 20\n                  },\n                  children: \"Earn 10 points per dollar spent on flights\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 23\n              }, this), rewards.totalPoints >= 10000 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 20\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: useRewards,\n                    onChange: e => {\n                      setUseRewards(e.target.checked);\n                      if (!e.target.checked) {\n                        setRewardsToUse(0);\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: 14,\n                      fontWeight: 500\n                    },\n                    children: \"Use my rewards points\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 27\n                }, this), useRewards && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 12,\n                    marginLeft: 28,\n                    padding: \"12px 14px\",\n                    background: \"#f8fafc\",\n                    borderRadius: 8,\n                    border: \"1px solid #e1e5eb\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: \"block\",\n                      marginBottom: 8,\n                      fontSize: 13,\n                      fontWeight: 600\n                    },\n                    children: \"Select Points to Redeem (in multiples of 10,000)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"10000\",\n                    step: \"10000\",\n                    max: rewards.totalPoints,\n                    value: rewardsToUse,\n                    onChange: e => {\n                      let value = parseInt(e.target.value) || 0;\n                      // Ensure it's a multiple of 10,000\n                      if (value > 0) {\n                        value = Math.round(value / 10000) * 10000;\n                      }\n                      // Ensure it doesn't exceed available points\n                      value = Math.min(value, rewards.totalPoints);\n                      setRewardsToUse(value);\n                    },\n                    style: {\n                      width: \"100%\",\n                      padding: \"8px 10px\",\n                      borderRadius: 6,\n                      border: \"1px solid #cfd7df\",\n                      fontSize: 14,\n                      boxSizing: \"border-box\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: 12,\n                      color: \"#666\",\n                      marginTop: 8,\n                      marginBottom: 0\n                    },\n                    children: [\"Discount: $\", (rewardsToUse / 10000 * 100).toFixed(2), \" off\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: 12,\n                    color: \"#666\",\n                    marginLeft: 28,\n                    marginTop: 8\n                  },\n                  children: \"Every 10,000 points = $100 off\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 25\n              }, this), rewards.totalPoints < 10000 && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: 13,\n                  color: \"#999\",\n                  marginTop: 15,\n                  fontStyle: \"italic\"\n                },\n                children: [\"You need at least 10,000 points to redeem rewards. You currently have \", rewards.totalPoints, \" points.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#666\",\n                textAlign: \"center\"\n              },\n              children: \"No rewards yet. Start booking flights to earn points!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.sectionCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.sectionTitle,\n              children: \"Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Passengers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this), passengerList.map((p, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginLeft: 15\n              },\n              children: [p.fullName || `Passenger ${i + 1}`, \" - Age \", p.age || \"—\"]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: styles.separator\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Cost Breakdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginLeft: 15\n              },\n              children: [\"Base Fare: $\", basePrice, \" \\xD7 \", passengerCount, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this), \"Tax: $\", tax, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 19\n              }, this), useRewards && rewards && rewards.totalPoints >= 10000 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\"Rewards Discount: -$\", rewardsDiscount, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Total: $\", total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.submitButton,\n              onClick: handleSubmit,\n              children: \"Complete Purchase\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 17\n            }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: 10,\n                textAlign: \"center\"\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n};\n\n// ==========================================================\n// STYLESHEET OBJECT\n// Contains all inline CSS styling for the Payment Page\n// Using JavaScript objects instead of separate CSS file\n// ==========================================================\n_s(PaymentPage, \"Gr39Xq+fCa1Fo5mT8yY8geygVHA=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = PaymentPage;\nconst styles = {\n  // MAIN PAGE CONTAINER\n  page: {\n    // Use system default font stack for consistent appearance\n    fontFamily: \"system-ui, sans-serif\",\n    // Light blue background color\n    background: \"#f4f6fbcf\",\n    // Add padding at bottom for spacing\n    paddingBottom: 40,\n    // Rounded corners on container\n    borderRadius: \"20px\"\n  },\n  // MAIN CONTENT AREA\n  hero: {\n    // Maximum width to prevent content from stretching too wide\n    width: \"1200px\",\n    // Center the container horizontally\n    margin: \"20px auto\",\n    // Vertical padding for spacing\n    padding: \"30px 0\"\n  },\n  // INNER FLEX CONTAINER\n  heroInner: {\n    // Use flexbox layout\n    display: \"flex\",\n    // Stack items vertically\n    flexDirection: \"column\",\n    // Center items horizontally\n    alignItems: \"center\",\n    // Space between flex items (25px gap)\n    gap: 25\n  },\n  // MAIN PAGE TITLE\n  title: {\n    fontSize: 30,\n    fontWeight: 700\n  },\n  // SECTION CARDS (used for each form section)\n  sectionCard: {\n    // Width of card content\n    width: \"1100px\",\n    // White background\n    background: \"white\",\n    // Light gray border\n    border: \"1px solid #e7ebf0\",\n    // Rounded corners\n    borderRadius: 12,\n    // Internal spacing\n    padding: 25,\n    // Subtle shadow for depth\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.05)\"\n  },\n  // SECTION TITLE (within cards)\n  sectionTitle: {\n    fontSize: 22,\n    marginBottom: 15,\n    fontWeight: 700\n  },\n  // INPUT FIELD STYLING\n  input: {\n    // Expand to fill parent width\n    width: \"100%\",\n    // Internal padding\n    padding: \"10px 12px\",\n    // Rounded corners on input\n    borderRadius: 8,\n    // Light gray border\n    border: \"1px solid #cfd7df\",\n    fontSize: 14,\n    // Space above input\n    marginTop: 4\n  },\n  // ERROR MESSAGE STYLING (appears below invalid input fields)\n  errorMessage: {\n    // Red color to indicate error\n    color: \"#dc3545\",\n    // Smaller font size for error text\n    fontSize: 12,\n    // Space above error message\n    marginTop: 4,\n    // Space below error message\n    marginBottom: 10\n  },\n  // FORM GROUP (wrapper for label + input)\n  formGroup: {\n    marginBottom: 15\n  },\n  // TWO COLUMN LAYOUT (for side-by-side fields)\n  twoColumn: {\n    // Use CSS Grid for columns\n    display: \"grid\",\n    // Two equal-width columns (1fr = equal portion)\n    gridTemplateColumns: \"1fr 1fr\",\n    // Space between columns\n    gap: 20\n  },\n  // PASSENGER INFORMATION CARD\n  passengerCard: {\n    // Light background to distinguish from main card\n    background: \"#fafbff\",\n    // Internal padding\n    padding: 20,\n    // Rounded corners\n    borderRadius: 10,\n    // Light border\n    border: \"1px solid #e1e5eb\",\n    // Space below each passenger card\n    marginBottom: 20\n  },\n  // HORIZONTAL SEPARATOR LINE\n  separator: {\n    // Remove default border\n    border: 0,\n    // Add bottom border instead (more control)\n    borderBottom: \"1px solid #ddd\",\n    // Vertical spacing\n    margin: \"15px 0\"\n  },\n  // SUBMIT BUTTON STYLING\n  submitButton: {\n    // Space above button\n    marginTop: 20,\n    // Fill the width of container\n    width: \"100%\",\n    // Blue background color\n    background: \"#2f6feb\",\n    // Internal padding\n    padding: \"12px\",\n    // Rounded corners\n    borderRadius: 8,\n    // White text\n    color: \"white\",\n    // Bold text\n    fontWeight: 700,\n    // Pointer cursor on hover\n    cursor: \"pointer\",\n    // Remove default button border\n    border: \"none\"\n  },\n  // LOADING CARD (shown while processing payment)\n  loadingCard: {\n    width: \"1100px\",\n    background: \"white\",\n    // Extra padding for centered content\n    padding: 80,\n    borderRadius: 12,\n    // Center the content\n    textAlign: \"center\",\n    border: \"1px solid #e7ebf0\"\n  },\n  // LOADING SPINNER ANIMATION\n  spinner: {\n    // Size of spinner circle\n    width: 60,\n    height: 60,\n    // Light gray border all around\n    border: \"6px solid #cfd4db\",\n    // Blue top border (creates rotating effect)\n    borderTop: \"6px solid #2f6feb\",\n    // Make it circular\n    borderRadius: \"50%\",\n    // CSS animation (defined elsewhere or using keyframes)\n    animation: \"spin 1s linear infinite\",\n    // Center the spinner\n    margin: \"0 auto\"\n  },\n  // CONFIRMATION CARD (shown after successful booking)\n  confirmCard: {\n    width: \"1100px\",\n    background: \"white\",\n    // Extra padding for centered message\n    padding: 80,\n    borderRadius: 12,\n    // Center text\n    textAlign: \"center\",\n    border: \"1px solid #e7ebf0\"\n  },\n  // REWARDS HEADER (displays total points)\n  rewardsHeader: {\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    gap: 30,\n    padding: \"15px\",\n    background: \"#f0f7ff\",\n    borderRadius: 8,\n    border: \"1px solid #cfe2ff\"\n  },\n  // POINTS DISPLAY (shows total points number)\n  pointsDisplay: {\n    flex: 1\n  }\n};\n\n// Export component as default export for use in other files\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","PaymentPage","_s","state","flightId","navigate","flight","setFlight","passengerCount","setPassengerCount","seatingPreference","setSeatingPreference","user","JSON","parse","localStorage","getItem","userId","_id","passengerList","setPassengerList","fullName","age","email","setEmail","cardName","setCardName","cardNumber","setCardNumber","expiry","setExpiry","cvv","setCvv","savedCard","setSavedCard","useSavedCard","setUseSavedCard","prevCardValues","setPrevCardValues","savePaymentChecked","setSavePaymentChecked","isLoading","setIsLoading","isConfirmed","setIsConfirmed","message","setMessage","rewards","setRewards","rewardsLoading","setRewardsLoading","useRewards","setUseRewards","rewardsToUse","setRewardsToUse","errors","setErrors","get","then","res","data","catch","err","console","error","finally","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","basePrice","price","tax","subtotal","rewardsDiscount","Math","min","total","toFixed","handlePassengerCountChange","e","count","parseInt","target","value","updated","length","i","push","slice","handleSubmit","preventDefault","newErrors","includes","trim","month","split","Object","values","some","p","setTimeout","saveBookingToDB","bookingData","name","airline","from","to","depart","arrive","date","passengers","response","post","log","booking","cardPayload","cardHolder","saveRes","card","generateCode","random","toString","substring","toUpperCase","styles","page","hero","heroInner","title","loadingCard","spinner","marginTop","confirmCard","color","marginBottom","sectionCard","sectionTitle","lineHeight","fontSize","marginLeft","flightNo","separator","fromFull","toFull","durationMin","stops","stopInfo","map","stop","index","code","twoColumn","onChange","input","Array","_","display","gap","type","checked","passengerCard","alignItems","formGroup","borderColor","placeholder","errorMessage","disabled","maxLength","replace","justifyContent","textAlign","rewardsHeader","pointsDisplay","margin","fontWeight","totalPoints","background","borderRadius","border","step","max","round","width","boxSizing","fontStyle","submitButton","onClick","_c","fontFamily","paddingBottom","flexDirection","boxShadow","gridTemplateColumns","borderBottom","cursor","height","borderTop","animation","flex","$RefreshReg$"],"sources":["/Users/malkasyed/LiftOff/frontend/src/PaymentPage/PaymentPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst PaymentPage = () => {\n  const { state } = useLocation();\n  const { flightId } = state || {};\n  const navigate = useNavigate();\n\n  const [flight, setFlight] = useState(null);\n\n  const [passengerCount, setPassengerCount] = useState(1);\n  const [seatingPreference, setSeatingPreference] = useState(\"together\");\n  const user = JSON.parse(localStorage.getItem(\"liftoffUser\"));\n  const userId = user ? user._id : null;\n\n  const [passengerList, setPassengerList] = useState([\n    { fullName: \"\", age: \"\" }\n  ]);\n\n  const [email, setEmail] = useState(\"\");\n  const [cardName, setCardName] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [cvv, setCvv] = useState(\"\");\n  const [savedCard, setSavedCard] = useState(null);\n  const [useSavedCard, setUseSavedCard] = useState(false);\n  const [prevCardValues, setPrevCardValues] = useState(null);\n  const [savePaymentChecked, setSavePaymentChecked] = useState(false);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isConfirmed, setIsConfirmed] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [rewards, setRewards] = useState(null);\n  const [rewardsLoading, setRewardsLoading] = useState(false);\n  const [useRewards, setUseRewards] = useState(false);\n  const [rewardsToUse, setRewardsToUse] = useState(0);\n\n  const [errors, setErrors] = useState({\n    email: \"\",\n    cardName: \"\",\n    cardNumber: \"\",\n    expiry: \"\",\n    cvv: \"\",\n  });\n\n  useEffect(() => {\n    if (!flightId) return;\n\n    axios.get(`http://localhost:9000/flights/${flightId}`)\n      .then(res => setFlight(res.data))\n      .catch(err => console.error(\"Failed to fetch flight:\", err));\n  }, [flightId]);\n\n  // Fetch saved card for logged-in user (if any)\n  useEffect(() => {\n    if (!userId) return;\n\n    axios.get(`http://localhost:9000/userCard/${userId}`)\n      .then(res => {\n        if (res.data) {\n          setSavedCard(res.data);\n        }\n      })\n      .catch(err => {\n        console.error(\"Failed to fetch saved card:\", err);\n      });\n  }, [userId]);\n\n  // Fetch rewards for logged-in user\n  useEffect(() => {\n    if (!userId) return;\n\n    setRewardsLoading(true);\n    axios.get(`http://localhost:9000/user/points/${userId}`)\n      .then(res => {\n        if (res.data) {\n          setRewards(res.data);\n        }\n      })\n      .catch(err => {\n        console.error(\"Failed to fetch rewards:\", err);\n      })\n      .finally(() => setRewardsLoading(false));\n  }, [userId]);\n\n  if (!flight) {\n    return <div style={{ padding: 20 }}>Loading flight information...</div>;\n  }\n\n  const basePrice = flight.price;\n  const tax = basePrice * passengerCount * 0.03;\n  let subtotal = (basePrice * passengerCount) + tax;\n  \n  // Calculate discount from rewards (100 points = $1, so divide by 100)\n  let rewardsDiscount = 0;\n  if (useRewards && rewardsToUse > 0) {\n    rewardsDiscount = (rewardsToUse / 10000) * 100; // 10,000 points = $100 off\n    rewardsDiscount = Math.min(rewardsDiscount, subtotal); // Can't discount more than total\n  }\n  \n  const total = (subtotal - rewardsDiscount).toFixed(2);\n\n  const handlePassengerCountChange = (e) => {\n    const count = parseInt(e.target.value);\n    setPassengerCount(count);\n\n    let updated = [...passengerList];\n    \n    if (count > updated.length) {\n      for (let i = updated.length; i < count; i++) {\n        updated.push({ fullName: \"\", age: \"\" });\n      }\n    } else {\n      updated = updated.slice(0, count);\n    }\n    setPassengerList(updated);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    let newErrors = {\n      email: \"\",\n      cardName: \"\",\n      cardNumber: \"\",\n      expiry: \"\",\n      cvv: \"\",\n    };\n\n    if (!email) {\n      newErrors.email = \"Email is required.\";\n    } else if (!email.includes(\"@\")) {\n      newErrors.email = \"Please enter a valid email address.\";\n    }\n\n    if (!cardName) {\n      newErrors.cardName = \"Cardholder name is required.\";\n    } else if (cardName.trim().length < 2) {\n      newErrors.cardName = \"Please enter a valid cardholder name.\";\n    }\n\n    if (!cardNumber) {\n      newErrors.cardNumber = \"Card number is required.\";\n    } else if (cardNumber.length !== 16) {\n      newErrors.cardNumber = \"Card number must be 16 digits.\";\n    }\n\n    if (!expiry) {\n      newErrors.expiry = \"Expiration date is required.\";\n    } else if (!expiry.includes(\"/\")) {\n      newErrors.expiry = \"Expiration must be in MM/YY format.\";\n    } else {\n      const month = parseInt(expiry.split(\"/\")[0]);\n      if (month < 1 || month > 12) {\n        newErrors.expiry = \"Invalid expiration month (01-12).\";\n      }\n    }\n\n    if (!cvv) {\n      newErrors.cvv = \"CVV is required.\";\n    } else if (cvv.length < 3 || cvv.length > 4) {\n      newErrors.cvv = \"CVV must be 3 or 4 digits.\";\n    }\n\n    setErrors(newErrors);\n\n    if (!email || !cardName || !cardNumber || !expiry || !cvv) {\n      setMessage(\"⚠️ Please fill all fields.\");\n      return;\n    }\n\n    if (Object.values(newErrors).some(error => error !== \"\")) {\n      setMessage(\"⚠️ Please fix the errors above.\");\n      return;\n    }\n\n    for (let p of passengerList) {\n      if (!p.fullName || !p.age) {\n        setMessage(\"⚠️ Complete all passenger details.\");\n        return;\n      }\n    }\n\n    setIsLoading(true);\n\n    setTimeout(() => {\n      setIsLoading(false);\n      saveBookingToDB();\n    }, 2000);\n  };\n\n  const saveBookingToDB = async () => {\n    const user = JSON.parse(localStorage.getItem(\"liftoffUser\"));\n\n    const bookingData = {\n      userId: user ? user._id : null,\n      name: passengerList[0].fullName,\n      email: email,\n\n      flightId: flight._id,\n      airline: flight.airline,\n      from: flight.from,\n      to: flight.to,\n      depart: flight.depart,\n      arrive: flight.arrive,\n      date: flight.date,\n\n      passengerCount,\n      passengers: passengerList,\n      seatingPreference,\n      price: total,\n    };\n\n    try {\n      const response = await axios.post(\n        \"http://localhost:9000/bookFlight\",\n        bookingData\n      );\n\n      console.log(\"✅ Booking saved:\", response.data.booking);\n\n      setIsConfirmed(true);\n\n      // After booking succeeds, if user opted to save payment and they don't already have a saved card,\n      // persist card details (excluding CVV) to the database and update local state.\n      if (user && user._id && savePaymentChecked && !savedCard) {\n        try {\n          const cardPayload = {\n            userId: user._id,\n            cardNumber,\n            cardHolder: cardName,\n            expiry,\n          };\n\n          const saveRes = await axios.post(\"http://localhost:9000/saveCard\", cardPayload);\n          if (saveRes.data && saveRes.data.card) {\n            setSavedCard(saveRes.data.card);\n            // clear the checkbox after saving\n            setSavePaymentChecked(false);\n          }\n        } catch (err) {\n          console.error(\"Failed to save card:\", err);\n        }\n      }\n\n    } catch (error) {\n      console.error(\"❌ Booking failed:\", error);\n      setMessage(\"Something went wrong while booking. Please try again.\");\n    }\n  };\n\n\n\n  function generateCode() {\n    return \"LIFT-\" + Math.random().toString(36).substring(2, 8).toUpperCase();\n  }\n  \n  return (\n    <div style={styles.page}>\n      <main style={styles.hero}>\n        <div style={styles.heroInner}>\n          <h2 style={styles.title}>Complete Your Booking</h2>\n\n          {isLoading ? (\n            <div style={styles.loadingCard}>\n              <div style={styles.spinner}></div>\n              <h2 style={{ marginTop: 20 }}>Processing your payment...</h2>\n            </div>\n          ) : isConfirmed ? (\n            <div style={styles.confirmCard}>\n              <h1 style={{ color: \"#28a745\", marginBottom: 10 }}>Payment Successful!</h1>\n              <p>A confirmation email has been sent to <strong>{email}</strong>.</p>\n            </div>\n          ) : (\n            <>\n              <div style={styles.sectionCard}>\n                <h3 style={styles.sectionTitle}>Flight Summary</h3>\n\n                <div style={{ lineHeight: \"1.6\", fontSize: \"15px\", marginLeft: 5 }}>\n                  <p>\n                    <strong>Airline:</strong> {flight?.airline}  \n                    <br />\n                    <strong>Flight Number:</strong> {flight?.flightNo}\n                  </p>\n\n                  <hr style={styles.separator} />\n\n                  <p>\n                    <strong>Route:</strong> {flight?.fromFull} ({flight?.from}) →{\" \"}\n                    {flight?.toFull} ({flight?.to})\n                  </p>\n\n                  <p>\n                    <strong>Departure Date:</strong> {flight?.date}\n                    <br />\n                    <strong>Departure:</strong> {flight?.depart}\n                    <br />\n                    <strong>Arrival:</strong> {flight?.arrive}\n                  </p>\n\n                  <p>\n                    <strong>Duration:</strong> {flight?.durationMin} minutes\n                    <br />\n                    <strong>Stops:</strong>{\" \"}\n                    {flight?.stops === 0 ? \"Nonstop\" : `${flight?.stops} stop(s)`}\n                  </p>\n\n                  {flight?.stops > 0 && (\n                    <div style={{ marginTop: 10 }}>\n                      <strong>Stopover Details:</strong>\n                      {flight.stopInfo.map((stop, index) => (\n                        <p key={index} style={{ marginLeft: 15 }}>\n                          Stop {index + 1}: {stop.fullName} ({stop.code}) —{\" \"}\n                          {stop.durationMin} min\n                        </p>\n                      ))}\n                    </div>\n                  )}\n\n                  <hr style={styles.separator} />\n\n                  <p>\n                    <strong>Base Fare:</strong> ${basePrice} × {passengerCount}\n                    <br />\n                    <strong>Tax:</strong> ${tax}\n                    <br />\n                    <strong style={{ fontSize: \"17px\" }}>Total: ${total}</strong>\n                  </p>\n                </div>\n              </div>\n\n              <div style={styles.sectionCard}>\n                <h3 style={styles.sectionTitle}>Booking Details</h3>\n\n                <div style={styles.twoColumn}>\n                  <div>\n                    <label>Number of Passengers</label>\n                    <select\n                      value={passengerCount}\n                      onChange={handlePassengerCountChange}\n                      style={styles.input}\n                    >\n                      {Array.from({ length: 10 }, (_, i) => (\n                        <option key={i + 1} value={i + 1}>\n                          {i + 1}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label>Seating Preference</label>\n                    <div style={{ display: \"flex\", gap: \"20px\", marginTop: \"6px\" }}>\n                      <label>\n                        <input\n                          type=\"radio\"\n                          value=\"together\"\n                          checked={seatingPreference === \"together\"}\n                          onChange={(e) => setSeatingPreference(e.target.value)}\n                        />\n                        {\" \"}Sit Together\n                      </label>\n\n                      <label>\n                        <input\n                          type=\"radio\"\n                          value=\"separate\"\n                          checked={seatingPreference === \"separate\"}\n                          onChange={(e) => setSeatingPreference(e.target.value)}\n                        />\n                        {\" \"}Sit Separate\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div style={styles.sectionCard}>\n                <h3 style={styles.sectionTitle}>Passenger Information</h3>\n\n                {passengerList.map((p, index) => (\n                  <div key={index} style={styles.passengerCard}>\n                    <h4>Passenger {index + 1}</h4>\n\n                    <div style={styles.twoColumn}>\n                      <div>\n                        <label>Full Name</label>\n                        <input\n                          type=\"text\"\n                          style={styles.input}\n                          value={p.fullName}\n                          onChange={(e) => {\n                            const updated = [...passengerList];\n                            updated[index].fullName = e.target.value;\n                            setPassengerList(updated);\n                          }}\n                        />\n                      </div>\n\n                      <div>\n                        <label>Age</label>\n                        <input\n                          type=\"number\"\n                          style={styles.input}\n                          value={p.age}\n                          onChange={(e) => {\n                            const updated = [...passengerList];\n                            updated[index].age = e.target.value;\n                            setPassengerList(updated);\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div style={styles.sectionCard}>\n                <h3 style={styles.sectionTitle}>Payment Information</h3>\n\n                {userId && savedCard && (\n                  <div style={{ marginBottom: 12 }}>\n                    <label style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n                      <input\n                        type=\"checkbox\"\n                        checked={useSavedCard}\n                        onChange={(e) => {\n                          const checked = e.target.checked;\n\n                          if (checked) {\n                            // keep a copy of current values to restore when unchecked\n                            setPrevCardValues({ cardName, cardNumber, expiry, cvv });\n                            setCardName(savedCard.cardHolder || \"\");\n                            setCardNumber(savedCard.cardNumber || \"\");\n                            setExpiry(savedCard.expiry || \"\");\n                            setCvv(\"\");\n                            setUseSavedCard(true);\n                          } else {\n                            // restore previous values or clear\n                            if (prevCardValues) {\n                              setCardName(prevCardValues.cardName || \"\");\n                              setCardNumber(prevCardValues.cardNumber || \"\");\n                              setExpiry(prevCardValues.expiry || \"\");\n                              setCvv(prevCardValues.cvv || \"\");\n                            } else {\n                              setCardName(\"\");\n                              setCardNumber(\"\");\n                              setExpiry(\"\");\n                              setCvv(\"\");\n                            }\n                            setUseSavedCard(false);\n                          }\n                        }}\n                      />\n                      <span>Use saved payment info for the payment details</span>\n                      <small style={{ marginLeft: 12, color: \"#6c757d\" }}>\n                        (card ending in {savedCard.cardNumber ? savedCard.cardNumber.slice(-4) : \"—\"})\n                      </small>\n                    </label>\n                  </div>\n                )}\n\n                <div style={styles.formGroup}>\n                  <label>Email for Receipt</label>\n                  <input\n                    type=\"email\"\n                    style={{ ...styles.input, borderColor: errors.email ? \"#dc3545\" : \"#cfd7df\" }}\n                    placeholder=\"example@email.com\"\n                    value={email}\n                    onChange={(e) => {\n                      setEmail(e.target.value);\n                      if (errors.email) {\n                        setErrors({ ...errors, email: \"\" });\n                      }\n                    }}\n                  />\n                  {errors.email && (\n                    <p style={styles.errorMessage}>{errors.email}</p>\n                  )}\n                </div>\n\n                <div style={styles.formGroup}>\n                  <label>Name on Card</label>\n                  <input\n                    type=\"text\"\n                    style={{ ...styles.input, borderColor: errors.cardName ? \"#dc3545\" : \"#cfd7df\" }}\n                    placeholder=\"John Doe\"\n                    value={cardName}\n                    onChange={(e) => {\n                      setCardName(e.target.value);\n                      if (errors.cardName) {\n                        setErrors({ ...errors, cardName: \"\" });\n                      }\n                    }}\n                    disabled={useSavedCard}\n                  />\n                  {errors.cardName && (\n                    <p style={styles.errorMessage}>{errors.cardName}</p>\n                  )}\n                </div>\n\n                <div style={styles.formGroup}>\n                  <label>Card Number</label>\n                  <input\n                    type=\"text\"\n                    style={{ ...styles.input, borderColor: errors.cardNumber ? \"#dc3545\" : \"#cfd7df\" }}\n                    placeholder=\"1234 5678 9012 3456\"\n                    maxLength=\"16\"\n                    value={cardNumber}\n                    onChange={(e) => {\n                      const value = e.target.value.replace(/\\D/g, \"\");\n                      setCardNumber(value);\n                      if (errors.cardNumber) {\n                        setErrors({ ...errors, cardNumber: \"\" });\n                      }\n                    }}\n                    disabled={useSavedCard}\n                  />\n                  {errors.cardNumber && (\n                    <p style={styles.errorMessage}>{errors.cardNumber}</p>\n                  )}\n                </div>\n\n                <div style={styles.twoColumn}>\n                  <div>\n                    <label>Expiration</label>\n                    <input\n                      type=\"text\"\n                      style={{ ...styles.input, borderColor: errors.expiry ? \"#dc3545\" : \"#cfd7df\" }}\n                      placeholder=\"MM/YY\"\n                      maxLength=\"5\"\n                      value={expiry}\n                      onChange={(e) => {\n                        let value = e.target.value.replace(/\\D/g, \"\");\n                        \n                        if (value.length >= 2) {\n                          value = value.slice(0, 2) + \"/\" + value.slice(2, 4);\n                        }\n                        setExpiry(value);\n                        if (errors.expiry) {\n                          setErrors({ ...errors, expiry: \"\" });\n                        }\n                      }}\n                      disabled={useSavedCard}\n                    />\n                    {errors.expiry && (\n                      <p style={styles.errorMessage}>{errors.expiry}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label>CVV</label>\n                    <input\n                      type=\"password\"\n                      style={{ ...styles.input, borderColor: errors.cvv ? \"#dc3545\" : \"#cfd7df\" }}\n                      placeholder=\"123\"\n                      maxLength=\"4\"\n                      value={cvv}\n                      onChange={(e) => {\n                        const value = e.target.value.replace(/\\D/g, \"\");\n                        setCvv(value);\n                        if (errors.cvv) {\n                          setErrors({ ...errors, cvv: \"\" });\n                        }\n                      }}\n                    />\n                    {errors.cvv && (\n                      <p style={styles.errorMessage}>{errors.cvv}</p>\n                    )}\n                  </div>\n                </div>\n                {/* Save payment details checkbox (show when user logged in but no saved card) */}\n                {userId && !savedCard && (\n                  <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginTop: 12 }}>\n                    <label style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n                      <input\n                        type=\"checkbox\"\n                        checked={savePaymentChecked}\n                        onChange={(e) => setSavePaymentChecked(e.target.checked)}\n                      />\n                      <span style={{ fontSize: 14 }}>Save payment details</span>\n                    </label>\n                  </div>\n                )}\n              </div>\n\n              {userId && (\n                <div style={styles.sectionCard}>\n                  <h3 style={styles.sectionTitle}>Your Rewards</h3>\n\n                  {rewardsLoading ? (\n                    <p style={{ textAlign: \"center\", color: \"#666\" }}>Loading rewards...</p>\n                  ) : rewards ? (\n                    <div>\n                      <div style={styles.rewardsHeader}>\n                        <div style={styles.pointsDisplay}>\n                          <p style={{ fontSize: 14, color: \"#666\", margin: \"0 0 5px 0\" }}>Total Points</p>\n                          <p style={{ fontSize: 32, fontWeight: 700, color: \"#2f6feb\", margin: 0 }}>\n                            {rewards.totalPoints}\n                          </p>\n                        </div>\n                        <p style={{ color: \"#666\", fontSize: 13, marginLeft: 20 }}>\n                          Earn 10 points per dollar spent on flights\n                        </p>\n                      </div>\n\n                      {rewards.totalPoints >= 10000 && (\n                        <div style={{ marginTop: 20 }}>\n                          <label style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n                            <input\n                              type=\"checkbox\"\n                              checked={useRewards}\n                              onChange={(e) => {\n                                setUseRewards(e.target.checked);\n                                if (!e.target.checked) {\n                                  setRewardsToUse(0);\n                                }\n                              }}\n                            />\n                            <span style={{ fontSize: 14, fontWeight: 500 }}>Use my rewards points</span>\n                          </label>\n\n                          {useRewards && (\n                            <div style={{ marginTop: 12, marginLeft: 28, padding: \"12px 14px\", background: \"#f8fafc\", borderRadius: 8, border: \"1px solid #e1e5eb\" }}>\n                              <label style={{ display: \"block\", marginBottom: 8, fontSize: 13, fontWeight: 600 }}>\n                                Select Points to Redeem (in multiples of 10,000)\n                              </label>\n                              <input\n                                type=\"number\"\n                                min=\"10000\"\n                                step=\"10000\"\n                                max={rewards.totalPoints}\n                                value={rewardsToUse}\n                                onChange={(e) => {\n                                  let value = parseInt(e.target.value) || 0;\n                                  // Ensure it's a multiple of 10,000\n                                  if (value > 0) {\n                                    value = Math.round(value / 10000) * 10000;\n                                  }\n                                  // Ensure it doesn't exceed available points\n                                  value = Math.min(value, rewards.totalPoints);\n                                  setRewardsToUse(value);\n                                }}\n                                style={{\n                                  width: \"100%\",\n                                  padding: \"8px 10px\",\n                                  borderRadius: 6,\n                                  border: \"1px solid #cfd7df\",\n                                  fontSize: 14,\n                                  boxSizing: \"border-box\"\n                                }}\n                              />\n                              <p style={{ fontSize: 12, color: \"#666\", marginTop: 8, marginBottom: 0 }}>\n                                Discount: ${((rewardsToUse / 10000) * 100).toFixed(2)} off\n                              </p>\n                            </div>\n                          )}\n\n                          <p style={{ fontSize: 12, color: \"#666\", marginLeft: 28, marginTop: 8 }}>\n                            Every 10,000 points = $100 off\n                          </p>\n                        </div>\n                      )}\n\n                      {rewards.totalPoints < 10000 && (\n                        <p style={{ fontSize: 13, color: \"#999\", marginTop: 15, fontStyle: \"italic\" }}>\n                          You need at least 10,000 points to redeem rewards. You currently have {rewards.totalPoints} points.\n                        </p>\n                      )}\n                    </div>\n                  ) : (\n                    <p style={{ color: \"#666\", textAlign: \"center\" }}>\n                      No rewards yet. Start booking flights to earn points!\n                    </p>\n                  )}\n                </div>\n              )}\n\n              <div style={styles.sectionCard}>\n                <h3 style={styles.sectionTitle}>Summary</h3>\n\n                <h4>Passengers</h4>\n                {passengerList.map((p, i) => (\n                  <p key={i} style={{ marginLeft: 15 }}>\n                    {p.fullName || `Passenger ${i + 1}`} - Age {p.age || \"—\"}\n                  </p>\n                ))}\n\n                <hr style={styles.separator} />\n\n                <h4>Cost Breakdown</h4>\n                <p style={{ marginLeft: 15 }}>\n                  Base Fare: ${basePrice} × {passengerCount}  \n                  <br />\n                  Tax: ${tax}\n                  <br />\n                  {useRewards && rewards && rewards.totalPoints >= 10000 && (\n                    <>\n                      Rewards Discount: -${rewardsDiscount}\n                      <br />\n                    </>\n                  )}\n                  <strong>Total: ${total}</strong>\n                </p>\n\n                <button style={styles.submitButton} onClick={handleSubmit}>\n                  Complete Purchase\n                </button>\n\n                {message && (\n                  <p style={{ marginTop: 10, textAlign: \"center\" }}>{message}</p>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n};\n\n\n// ==========================================================\n// STYLESHEET OBJECT\n// Contains all inline CSS styling for the Payment Page\n// Using JavaScript objects instead of separate CSS file\n// ==========================================================\n\nconst styles = {\n  // MAIN PAGE CONTAINER\n  page: {\n    // Use system default font stack for consistent appearance\n    fontFamily: \"system-ui, sans-serif\",\n    // Light blue background color\n    background: \"#f4f6fbcf\",\n    // Add padding at bottom for spacing\n    paddingBottom: 40,\n    // Rounded corners on container\n    borderRadius: \"20px\",\n  },\n\n  // MAIN CONTENT AREA\n  hero: {\n    // Maximum width to prevent content from stretching too wide\n    width: \"1200px\",\n    // Center the container horizontally\n    margin: \"20px auto\",\n    // Vertical padding for spacing\n    padding: \"30px 0\",\n  },\n\n  // INNER FLEX CONTAINER\n  heroInner: {\n    // Use flexbox layout\n    display: \"flex\",\n    // Stack items vertically\n    flexDirection: \"column\",\n    // Center items horizontally\n    alignItems: \"center\",\n    // Space between flex items (25px gap)\n    gap: 25,\n  },\n\n  // MAIN PAGE TITLE\n  title: {\n    fontSize: 30,\n    fontWeight: 700,\n  },\n\n  // SECTION CARDS (used for each form section)\n  sectionCard: {\n    // Width of card content\n    width: \"1100px\",\n    // White background\n    background: \"white\",\n    // Light gray border\n    border: \"1px solid #e7ebf0\",\n    // Rounded corners\n    borderRadius: 12,\n    // Internal spacing\n    padding: 25,\n    // Subtle shadow for depth\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.05)\",\n  },\n\n  // SECTION TITLE (within cards)\n  sectionTitle: {\n    fontSize: 22,\n    marginBottom: 15,\n    fontWeight: 700,\n  },\n\n  // INPUT FIELD STYLING\n  input: {\n    // Expand to fill parent width\n    width: \"100%\",\n    // Internal padding\n    padding: \"10px 12px\",\n    // Rounded corners on input\n    borderRadius: 8,\n    // Light gray border\n    border: \"1px solid #cfd7df\",\n    fontSize: 14,\n    // Space above input\n    marginTop: 4,\n  },\n\n  // ERROR MESSAGE STYLING (appears below invalid input fields)\n  errorMessage: {\n    // Red color to indicate error\n    color: \"#dc3545\",\n    // Smaller font size for error text\n    fontSize: 12,\n    // Space above error message\n    marginTop: 4,\n    // Space below error message\n    marginBottom: 10,\n  },\n\n  // FORM GROUP (wrapper for label + input)\n  formGroup: {\n    marginBottom: 15,\n  },\n\n  // TWO COLUMN LAYOUT (for side-by-side fields)\n  twoColumn: {\n    // Use CSS Grid for columns\n    display: \"grid\",\n    // Two equal-width columns (1fr = equal portion)\n    gridTemplateColumns: \"1fr 1fr\",\n    // Space between columns\n    gap: 20,\n  },\n\n  // PASSENGER INFORMATION CARD\n  passengerCard: {\n    // Light background to distinguish from main card\n    background: \"#fafbff\",\n    // Internal padding\n    padding: 20,\n    // Rounded corners\n    borderRadius: 10,\n    // Light border\n    border: \"1px solid #e1e5eb\",\n    // Space below each passenger card\n    marginBottom: 20,\n  },\n\n  // HORIZONTAL SEPARATOR LINE\n  separator: {\n    // Remove default border\n    border: 0,\n    // Add bottom border instead (more control)\n    borderBottom: \"1px solid #ddd\",\n    // Vertical spacing\n    margin: \"15px 0\",\n  },\n\n  // SUBMIT BUTTON STYLING\n  submitButton: {\n    // Space above button\n    marginTop: 20,\n    // Fill the width of container\n    width: \"100%\",\n    // Blue background color\n    background: \"#2f6feb\",\n    // Internal padding\n    padding: \"12px\",\n    // Rounded corners\n    borderRadius: 8,\n    // White text\n    color: \"white\",\n    // Bold text\n    fontWeight: 700,\n    // Pointer cursor on hover\n    cursor: \"pointer\",\n    // Remove default button border\n    border: \"none\",\n  },\n\n  // LOADING CARD (shown while processing payment)\n  loadingCard: {\n    width: \"1100px\",\n    background: \"white\",\n    // Extra padding for centered content\n    padding: 80,\n    borderRadius: 12,\n    // Center the content\n    textAlign: \"center\",\n    border: \"1px solid #e7ebf0\",\n  },\n\n  // LOADING SPINNER ANIMATION\n  spinner: {\n    // Size of spinner circle\n    width: 60,\n    height: 60,\n    // Light gray border all around\n    border: \"6px solid #cfd4db\",\n    // Blue top border (creates rotating effect)\n    borderTop: \"6px solid #2f6feb\",\n    // Make it circular\n    borderRadius: \"50%\",\n    // CSS animation (defined elsewhere or using keyframes)\n    animation: \"spin 1s linear infinite\",\n    // Center the spinner\n    margin: \"0 auto\",\n  },\n\n  // CONFIRMATION CARD (shown after successful booking)\n  confirmCard: {\n    width: \"1100px\",\n    background: \"white\",\n    // Extra padding for centered message\n    padding: 80,\n    borderRadius: 12,\n    // Center text\n    textAlign: \"center\",\n    border: \"1px solid #e7ebf0\",\n  },\n\n  // REWARDS HEADER (displays total points)\n  rewardsHeader: {\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    gap: 30,\n    padding: \"15px\",\n    background: \"#f0f7ff\",\n    borderRadius: 8,\n    border: \"1px solid #cfe2ff\",\n  },\n\n  // POINTS DISPLAY (shows total points number)\n  pointsDisplay: {\n    flex: 1,\n  },\n};\n\n// Export component as default export for use in other files\nexport default PaymentPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAM,CAAC,GAAGT,WAAW,CAAC,CAAC;EAC/B,MAAM;IAAEU;EAAS,CAAC,GAAGD,KAAK,IAAI,CAAC,CAAC;EAChC,MAAME,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACkB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGnB,QAAQ,CAAC,UAAU,CAAC;EACtE,MAAMoB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;EAC5D,MAAMC,MAAM,GAAGL,IAAI,GAAGA,IAAI,CAACM,GAAG,GAAG,IAAI;EAErC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,CACjD;IAAE6B,QAAQ,EAAE,EAAE;IAAEC,GAAG,EAAE;EAAG,CAAC,CAC1B,CAAC;EAEF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmC,UAAU,EAAEC,aAAa,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACqC,MAAM,EAAEC,SAAS,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACuC,GAAG,EAAEC,MAAM,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACyC,SAAS,EAAEC,YAAY,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC2C,YAAY,EAAEC,eAAe,CAAC,GAAG5C,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC6C,cAAc,EAAEC,iBAAiB,CAAC,GAAG9C,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC+C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhD,QAAQ,CAAC,KAAK,CAAC;EAEnE,MAAM,CAACiD,SAAS,EAAEC,YAAY,CAAC,GAAGlD,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmD,WAAW,EAAEC,cAAc,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqD,OAAO,EAAEC,UAAU,CAAC,GAAGtD,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACuD,OAAO,EAAEC,UAAU,CAAC,GAAGxD,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACyD,cAAc,EAAEC,iBAAiB,CAAC,GAAG1D,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC2D,UAAU,EAAEC,aAAa,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC6D,YAAY,EAAEC,eAAe,CAAC,GAAG9D,QAAQ,CAAC,CAAC,CAAC;EAEnD,MAAM,CAAC+D,MAAM,EAAEC,SAAS,CAAC,GAAGhE,QAAQ,CAAC;IACnC+B,KAAK,EAAE,EAAE;IACTE,QAAQ,EAAE,EAAE;IACZE,UAAU,EAAE,EAAE;IACdE,MAAM,EAAE,EAAE;IACVE,GAAG,EAAE;EACP,CAAC,CAAC;EAEFtC,SAAS,CAAC,MAAM;IACd,IAAI,CAACW,QAAQ,EAAE;IAEfR,KAAK,CAAC6D,GAAG,CAAC,iCAAiCrD,QAAQ,EAAE,CAAC,CACnDsD,IAAI,CAACC,GAAG,IAAIpD,SAAS,CAACoD,GAAG,CAACC,IAAI,CAAC,CAAC,CAChCC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC,CAAC;EAChE,CAAC,EAAE,CAAC1D,QAAQ,CAAC,CAAC;;EAEd;EACAX,SAAS,CAAC,MAAM;IACd,IAAI,CAACwB,MAAM,EAAE;IAEbrB,KAAK,CAAC6D,GAAG,CAAC,kCAAkCxC,MAAM,EAAE,CAAC,CAClDyC,IAAI,CAACC,GAAG,IAAI;MACX,IAAIA,GAAG,CAACC,IAAI,EAAE;QACZ1B,YAAY,CAACyB,GAAG,CAACC,IAAI,CAAC;MACxB;IACF,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC;IACnD,CAAC,CAAC;EACN,CAAC,EAAE,CAAC7C,MAAM,CAAC,CAAC;;EAEZ;EACAxB,SAAS,CAAC,MAAM;IACd,IAAI,CAACwB,MAAM,EAAE;IAEbiC,iBAAiB,CAAC,IAAI,CAAC;IACvBtD,KAAK,CAAC6D,GAAG,CAAC,qCAAqCxC,MAAM,EAAE,CAAC,CACrDyC,IAAI,CAACC,GAAG,IAAI;MACX,IAAIA,GAAG,CAACC,IAAI,EAAE;QACZZ,UAAU,CAACW,GAAG,CAACC,IAAI,CAAC;MACtB;IACF,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;IAChD,CAAC,CAAC,CACDG,OAAO,CAAC,MAAMf,iBAAiB,CAAC,KAAK,CAAC,CAAC;EAC5C,CAAC,EAAE,CAACjC,MAAM,CAAC,CAAC;EAEZ,IAAI,CAACX,MAAM,EAAE;IACX,oBAAOR,OAAA;MAAKoE,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAG,CAAE;MAAAC,QAAA,EAAC;IAA6B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACzE;EAEA,MAAMC,SAAS,GAAGnE,MAAM,CAACoE,KAAK;EAC9B,MAAMC,GAAG,GAAGF,SAAS,GAAGjE,cAAc,GAAG,IAAI;EAC7C,IAAIoE,QAAQ,GAAIH,SAAS,GAAGjE,cAAc,GAAImE,GAAG;;EAEjD;EACA,IAAIE,eAAe,GAAG,CAAC;EACvB,IAAI1B,UAAU,IAAIE,YAAY,GAAG,CAAC,EAAE;IAClCwB,eAAe,GAAIxB,YAAY,GAAG,KAAK,GAAI,GAAG,CAAC,CAAC;IAChDwB,eAAe,GAAGC,IAAI,CAACC,GAAG,CAACF,eAAe,EAAED,QAAQ,CAAC,CAAC,CAAC;EACzD;EAEA,MAAMI,KAAK,GAAG,CAACJ,QAAQ,GAAGC,eAAe,EAAEI,OAAO,CAAC,CAAC,CAAC;EAErD,MAAMC,0BAA0B,GAAIC,CAAC,IAAK;IACxC,MAAMC,KAAK,GAAGC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;IACtC9E,iBAAiB,CAAC2E,KAAK,CAAC;IAExB,IAAII,OAAO,GAAG,CAAC,GAAGrE,aAAa,CAAC;IAEhC,IAAIiE,KAAK,GAAGI,OAAO,CAACC,MAAM,EAAE;MAC1B,KAAK,IAAIC,CAAC,GAAGF,OAAO,CAACC,MAAM,EAAEC,CAAC,GAAGN,KAAK,EAAEM,CAAC,EAAE,EAAE;QAC3CF,OAAO,CAACG,IAAI,CAAC;UAAEtE,QAAQ,EAAE,EAAE;UAAEC,GAAG,EAAE;QAAG,CAAC,CAAC;MACzC;IACF,CAAC,MAAM;MACLkE,OAAO,GAAGA,OAAO,CAACI,KAAK,CAAC,CAAC,EAAER,KAAK,CAAC;IACnC;IACAhE,gBAAgB,CAACoE,OAAO,CAAC;EAC3B,CAAC;EAED,MAAMK,YAAY,GAAIV,CAAC,IAAK;IAC1BA,CAAC,CAACW,cAAc,CAAC,CAAC;IAElB,IAAIC,SAAS,GAAG;MACdxE,KAAK,EAAE,EAAE;MACTE,QAAQ,EAAE,EAAE;MACZE,UAAU,EAAE,EAAE;MACdE,MAAM,EAAE,EAAE;MACVE,GAAG,EAAE;IACP,CAAC;IAED,IAAI,CAACR,KAAK,EAAE;MACVwE,SAAS,CAACxE,KAAK,GAAG,oBAAoB;IACxC,CAAC,MAAM,IAAI,CAACA,KAAK,CAACyE,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC/BD,SAAS,CAACxE,KAAK,GAAG,qCAAqC;IACzD;IAEA,IAAI,CAACE,QAAQ,EAAE;MACbsE,SAAS,CAACtE,QAAQ,GAAG,8BAA8B;IACrD,CAAC,MAAM,IAAIA,QAAQ,CAACwE,IAAI,CAAC,CAAC,CAACR,MAAM,GAAG,CAAC,EAAE;MACrCM,SAAS,CAACtE,QAAQ,GAAG,uCAAuC;IAC9D;IAEA,IAAI,CAACE,UAAU,EAAE;MACfoE,SAAS,CAACpE,UAAU,GAAG,0BAA0B;IACnD,CAAC,MAAM,IAAIA,UAAU,CAAC8D,MAAM,KAAK,EAAE,EAAE;MACnCM,SAAS,CAACpE,UAAU,GAAG,gCAAgC;IACzD;IAEA,IAAI,CAACE,MAAM,EAAE;MACXkE,SAAS,CAAClE,MAAM,GAAG,8BAA8B;IACnD,CAAC,MAAM,IAAI,CAACA,MAAM,CAACmE,QAAQ,CAAC,GAAG,CAAC,EAAE;MAChCD,SAAS,CAAClE,MAAM,GAAG,qCAAqC;IAC1D,CAAC,MAAM;MACL,MAAMqE,KAAK,GAAGb,QAAQ,CAACxD,MAAM,CAACsE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5C,IAAID,KAAK,GAAG,CAAC,IAAIA,KAAK,GAAG,EAAE,EAAE;QAC3BH,SAAS,CAAClE,MAAM,GAAG,mCAAmC;MACxD;IACF;IAEA,IAAI,CAACE,GAAG,EAAE;MACRgE,SAAS,CAAChE,GAAG,GAAG,kBAAkB;IACpC,CAAC,MAAM,IAAIA,GAAG,CAAC0D,MAAM,GAAG,CAAC,IAAI1D,GAAG,CAAC0D,MAAM,GAAG,CAAC,EAAE;MAC3CM,SAAS,CAAChE,GAAG,GAAG,4BAA4B;IAC9C;IAEAyB,SAAS,CAACuC,SAAS,CAAC;IAEpB,IAAI,CAACxE,KAAK,IAAI,CAACE,QAAQ,IAAI,CAACE,UAAU,IAAI,CAACE,MAAM,IAAI,CAACE,GAAG,EAAE;MACzDe,UAAU,CAAC,4BAA4B,CAAC;MACxC;IACF;IAEA,IAAIsD,MAAM,CAACC,MAAM,CAACN,SAAS,CAAC,CAACO,IAAI,CAACtC,KAAK,IAAIA,KAAK,KAAK,EAAE,CAAC,EAAE;MACxDlB,UAAU,CAAC,iCAAiC,CAAC;MAC7C;IACF;IAEA,KAAK,IAAIyD,CAAC,IAAIpF,aAAa,EAAE;MAC3B,IAAI,CAACoF,CAAC,CAAClF,QAAQ,IAAI,CAACkF,CAAC,CAACjF,GAAG,EAAE;QACzBwB,UAAU,CAAC,oCAAoC,CAAC;QAChD;MACF;IACF;IAEAJ,YAAY,CAAC,IAAI,CAAC;IAElB8D,UAAU,CAAC,MAAM;MACf9D,YAAY,CAAC,KAAK,CAAC;MACnB+D,eAAe,CAAC,CAAC;IACnB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,MAAMA,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,MAAM7F,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;IAE5D,MAAM0F,WAAW,GAAG;MAClBzF,MAAM,EAAEL,IAAI,GAAGA,IAAI,CAACM,GAAG,GAAG,IAAI;MAC9ByF,IAAI,EAAExF,aAAa,CAAC,CAAC,CAAC,CAACE,QAAQ;MAC/BE,KAAK,EAAEA,KAAK;MAEZnB,QAAQ,EAAEE,MAAM,CAACY,GAAG;MACpB0F,OAAO,EAAEtG,MAAM,CAACsG,OAAO;MACvBC,IAAI,EAAEvG,MAAM,CAACuG,IAAI;MACjBC,EAAE,EAAExG,MAAM,CAACwG,EAAE;MACbC,MAAM,EAAEzG,MAAM,CAACyG,MAAM;MACrBC,MAAM,EAAE1G,MAAM,CAAC0G,MAAM;MACrBC,IAAI,EAAE3G,MAAM,CAAC2G,IAAI;MAEjBzG,cAAc;MACd0G,UAAU,EAAE/F,aAAa;MACzBT,iBAAiB;MACjBgE,KAAK,EAAEM;IACT,CAAC;IAED,IAAI;MACF,MAAMmC,QAAQ,GAAG,MAAMvH,KAAK,CAACwH,IAAI,CAC/B,kCAAkC,EAClCV,WACF,CAAC;MAED3C,OAAO,CAACsD,GAAG,CAAC,kBAAkB,EAAEF,QAAQ,CAACvD,IAAI,CAAC0D,OAAO,CAAC;MAEtD1E,cAAc,CAAC,IAAI,CAAC;;MAEpB;MACA;MACA,IAAIhC,IAAI,IAAIA,IAAI,CAACM,GAAG,IAAIqB,kBAAkB,IAAI,CAACN,SAAS,EAAE;QACxD,IAAI;UACF,MAAMsF,WAAW,GAAG;YAClBtG,MAAM,EAAEL,IAAI,CAACM,GAAG;YAChBS,UAAU;YACV6F,UAAU,EAAE/F,QAAQ;YACpBI;UACF,CAAC;UAED,MAAM4F,OAAO,GAAG,MAAM7H,KAAK,CAACwH,IAAI,CAAC,gCAAgC,EAAEG,WAAW,CAAC;UAC/E,IAAIE,OAAO,CAAC7D,IAAI,IAAI6D,OAAO,CAAC7D,IAAI,CAAC8D,IAAI,EAAE;YACrCxF,YAAY,CAACuF,OAAO,CAAC7D,IAAI,CAAC8D,IAAI,CAAC;YAC/B;YACAlF,qBAAqB,CAAC,KAAK,CAAC;UAC9B;QACF,CAAC,CAAC,OAAOsB,GAAG,EAAE;UACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;QAC5C;MACF;IAEF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzClB,UAAU,CAAC,uDAAuD,CAAC;IACrE;EACF,CAAC;EAID,SAAS6E,YAAYA,CAAA,EAAG;IACtB,OAAO,OAAO,GAAG7C,IAAI,CAAC8C,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAC3E;EAEA,oBACEjI,OAAA;IAAKoE,KAAK,EAAE8D,MAAM,CAACC,IAAK;IAAA7D,QAAA,eACtBtE,OAAA;MAAMoE,KAAK,EAAE8D,MAAM,CAACE,IAAK;MAAA9D,QAAA,eACvBtE,OAAA;QAAKoE,KAAK,EAAE8D,MAAM,CAACG,SAAU;QAAA/D,QAAA,gBAC3BtE,OAAA;UAAIoE,KAAK,EAAE8D,MAAM,CAACI,KAAM;UAAAhE,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAElD/B,SAAS,gBACR3C,OAAA;UAAKoE,KAAK,EAAE8D,MAAM,CAACK,WAAY;UAAAjE,QAAA,gBAC7BtE,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACM;UAAQ;YAAAjE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClC1E,OAAA;YAAIoE,KAAK,EAAE;cAAEqE,SAAS,EAAE;YAAG,CAAE;YAAAnE,QAAA,EAAC;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,GACJ7B,WAAW,gBACb7C,OAAA;UAAKoE,KAAK,EAAE8D,MAAM,CAACQ,WAAY;UAAApE,QAAA,gBAC7BtE,OAAA;YAAIoE,KAAK,EAAE;cAAEuE,KAAK,EAAE,SAAS;cAAEC,YAAY,EAAE;YAAG,CAAE;YAAAtE,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3E1E,OAAA;YAAAsE,QAAA,GAAG,wCAAsC,eAAAtE,OAAA;cAAAsE,QAAA,EAAS7C;YAAK;cAAA8C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,KAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC,gBAEN1E,OAAA,CAAAE,SAAA;UAAAoE,QAAA,gBACEtE,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAEnD1E,OAAA;cAAKoE,KAAK,EAAE;gBAAE2E,UAAU,EAAE,KAAK;gBAAEC,QAAQ,EAAE,MAAM;gBAAEC,UAAU,EAAE;cAAE,CAAE;cAAA3E,QAAA,gBACjEtE,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEsG,OAAO,eAC1C9G,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAAsE,QAAA,EAAQ;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE0I,QAAQ;cAAA;gBAAA3E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC,eAEJ1E,OAAA;gBAAIoE,KAAK,EAAE8D,MAAM,CAACiB;cAAU;gBAAA5E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAE/B1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE4I,QAAQ,EAAC,IAAE,EAAC5I,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEuG,IAAI,EAAC,UAAG,EAAC,GAAG,EAChEvG,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE6I,MAAM,EAAC,IAAE,EAAC7I,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEwG,EAAE,EAAC,GAChC;cAAA;gBAAAzC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAEJ1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE2G,IAAI,eAC9CnH,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAAsE,QAAA,EAAQ;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEyG,MAAM,eAC3CjH,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAAsE,QAAA,EAAQ;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE0G,MAAM;cAAA;gBAAA3C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC,eAEJ1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAClE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE8I,WAAW,EAAC,UAChD,eAAAtJ,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAAsE,QAAA,EAAQ;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,EAC1B,CAAAlE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE+I,KAAK,MAAK,CAAC,GAAG,SAAS,GAAG,GAAG/I,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE+I,KAAK,UAAU;cAAA;gBAAAhF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC,EAEH,CAAAlE,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE+I,KAAK,IAAG,CAAC,iBAChBvJ,OAAA;gBAAKoE,KAAK,EAAE;kBAAEqE,SAAS,EAAE;gBAAG,CAAE;gBAAAnE,QAAA,gBAC5BtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EACjClE,MAAM,CAACgJ,QAAQ,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAC/B3J,OAAA;kBAAeoE,KAAK,EAAE;oBAAE6E,UAAU,EAAE;kBAAG,CAAE;kBAAA3E,QAAA,GAAC,OACnC,EAACqF,KAAK,GAAG,CAAC,EAAC,IAAE,EAACD,IAAI,CAACnI,QAAQ,EAAC,IAAE,EAACmI,IAAI,CAACE,IAAI,EAAC,UAAG,EAAC,GAAG,EACpDF,IAAI,CAACJ,WAAW,EAAC,MACpB;gBAAA,GAHQK,KAAK;kBAAApF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAGV,CACJ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN,eAED1E,OAAA;gBAAIoE,KAAK,EAAE8D,MAAM,CAACiB;cAAU;gBAAA5E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAE/B1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAQ;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,MAAE,EAACC,SAAS,EAAC,QAAG,EAACjE,cAAc,eAC1DV,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAAsE,QAAA,EAAQ;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,MAAE,EAACG,GAAG,eAC3B7E,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACN1E,OAAA;kBAAQoE,KAAK,EAAE;oBAAE4E,QAAQ,EAAE;kBAAO,CAAE;kBAAA1E,QAAA,GAAC,UAAQ,EAACY,KAAK;gBAAA;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAS,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN1E,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAEpD1E,OAAA;cAAKoE,KAAK,EAAE8D,MAAM,CAAC2B,SAAU;cAAAvF,QAAA,gBAC3BtE,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAO;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACnC1E,OAAA;kBACEyF,KAAK,EAAE/E,cAAe;kBACtBoJ,QAAQ,EAAE1E,0BAA2B;kBACrChB,KAAK,EAAE8D,MAAM,CAAC6B,KAAM;kBAAAzF,QAAA,EAEnB0F,KAAK,CAACjD,IAAI,CAAC;oBAAEpB,MAAM,EAAE;kBAAG,CAAC,EAAE,CAACsE,CAAC,EAAErE,CAAC,kBAC/B5F,OAAA;oBAAoByF,KAAK,EAAEG,CAAC,GAAG,CAAE;oBAAAtB,QAAA,EAC9BsB,CAAC,GAAG;kBAAC,GADKA,CAAC,GAAG,CAAC;oBAAArB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEV,CACT;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAEN1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAO;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACjC1E,OAAA;kBAAKoE,KAAK,EAAE;oBAAE8F,OAAO,EAAE,MAAM;oBAAEC,GAAG,EAAE,MAAM;oBAAE1B,SAAS,EAAE;kBAAM,CAAE;kBAAAnE,QAAA,gBAC7DtE,OAAA;oBAAAsE,QAAA,gBACEtE,OAAA;sBACEoK,IAAI,EAAC,OAAO;sBACZ3E,KAAK,EAAC,UAAU;sBAChB4E,OAAO,EAAEzJ,iBAAiB,KAAK,UAAW;sBAC1CkJ,QAAQ,EAAGzE,CAAC,IAAKxE,oBAAoB,CAACwE,CAAC,CAACG,MAAM,CAACC,KAAK;oBAAE;sBAAAlB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvD,CAAC,EACD,GAAG,EAAC,cACP;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAER1E,OAAA;oBAAAsE,QAAA,gBACEtE,OAAA;sBACEoK,IAAI,EAAC,OAAO;sBACZ3E,KAAK,EAAC,UAAU;sBAChB4E,OAAO,EAAEzJ,iBAAiB,KAAK,UAAW;sBAC1CkJ,QAAQ,EAAGzE,CAAC,IAAKxE,oBAAoB,CAACwE,CAAC,CAACG,MAAM,CAACC,KAAK;oBAAE;sBAAAlB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvD,CAAC,EACD,GAAG,EAAC,cACP;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN1E,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEzDrD,aAAa,CAACoI,GAAG,CAAC,CAAChD,CAAC,EAAEkD,KAAK,kBAC1B3J,OAAA;cAAiBoE,KAAK,EAAE8D,MAAM,CAACoC,aAAc;cAAAhG,QAAA,gBAC3CtE,OAAA;gBAAAsE,QAAA,GAAI,YAAU,EAACqF,KAAK,GAAG,CAAC;cAAA;gBAAApF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAE9B1E,OAAA;gBAAKoE,KAAK,EAAE8D,MAAM,CAAC2B,SAAU;gBAAAvF,QAAA,gBAC3BtE,OAAA;kBAAAsE,QAAA,gBACEtE,OAAA;oBAAAsE,QAAA,EAAO;kBAAS;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACxB1E,OAAA;oBACEoK,IAAI,EAAC,MAAM;oBACXhG,KAAK,EAAE8D,MAAM,CAAC6B,KAAM;oBACpBtE,KAAK,EAAEgB,CAAC,CAAClF,QAAS;oBAClBuI,QAAQ,EAAGzE,CAAC,IAAK;sBACf,MAAMK,OAAO,GAAG,CAAC,GAAGrE,aAAa,CAAC;sBAClCqE,OAAO,CAACiE,KAAK,CAAC,CAACpI,QAAQ,GAAG8D,CAAC,CAACG,MAAM,CAACC,KAAK;sBACxCnE,gBAAgB,CAACoE,OAAO,CAAC;oBAC3B;kBAAE;oBAAAnB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAEN1E,OAAA;kBAAAsE,QAAA,gBACEtE,OAAA;oBAAAsE,QAAA,EAAO;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAClB1E,OAAA;oBACEoK,IAAI,EAAC,QAAQ;oBACbhG,KAAK,EAAE8D,MAAM,CAAC6B,KAAM;oBACpBtE,KAAK,EAAEgB,CAAC,CAACjF,GAAI;oBACbsI,QAAQ,EAAGzE,CAAC,IAAK;sBACf,MAAMK,OAAO,GAAG,CAAC,GAAGrE,aAAa,CAAC;sBAClCqE,OAAO,CAACiE,KAAK,CAAC,CAACnI,GAAG,GAAG6D,CAAC,CAACG,MAAM,CAACC,KAAK;sBACnCnE,gBAAgB,CAACoE,OAAO,CAAC;oBAC3B;kBAAE;oBAAAnB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA,GA/BEiF,KAAK;cAAApF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAgCV,CACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN1E,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEvDvD,MAAM,IAAIgB,SAAS,iBAClBnC,OAAA;cAAKoE,KAAK,EAAE;gBAAEwE,YAAY,EAAE;cAAG,CAAE;cAAAtE,QAAA,eAC/BtE,OAAA;gBAAOoE,KAAK,EAAE;kBAAE8F,OAAO,EAAE,MAAM;kBAAEK,UAAU,EAAE,QAAQ;kBAAEJ,GAAG,EAAE;gBAAE,CAAE;gBAAA7F,QAAA,gBAC9DtE,OAAA;kBACEoK,IAAI,EAAC,UAAU;kBACfC,OAAO,EAAEhI,YAAa;kBACtByH,QAAQ,EAAGzE,CAAC,IAAK;oBACf,MAAMgF,OAAO,GAAGhF,CAAC,CAACG,MAAM,CAAC6E,OAAO;oBAEhC,IAAIA,OAAO,EAAE;sBACX;sBACA7H,iBAAiB,CAAC;wBAAEb,QAAQ;wBAAEE,UAAU;wBAAEE,MAAM;wBAAEE;sBAAI,CAAC,CAAC;sBACxDL,WAAW,CAACO,SAAS,CAACuF,UAAU,IAAI,EAAE,CAAC;sBACvC5F,aAAa,CAACK,SAAS,CAACN,UAAU,IAAI,EAAE,CAAC;sBACzCG,SAAS,CAACG,SAAS,CAACJ,MAAM,IAAI,EAAE,CAAC;sBACjCG,MAAM,CAAC,EAAE,CAAC;sBACVI,eAAe,CAAC,IAAI,CAAC;oBACvB,CAAC,MAAM;sBACL;sBACA,IAAIC,cAAc,EAAE;wBAClBX,WAAW,CAACW,cAAc,CAACZ,QAAQ,IAAI,EAAE,CAAC;wBAC1CG,aAAa,CAACS,cAAc,CAACV,UAAU,IAAI,EAAE,CAAC;wBAC9CG,SAAS,CAACO,cAAc,CAACR,MAAM,IAAI,EAAE,CAAC;wBACtCG,MAAM,CAACK,cAAc,CAACN,GAAG,IAAI,EAAE,CAAC;sBAClC,CAAC,MAAM;wBACLL,WAAW,CAAC,EAAE,CAAC;wBACfE,aAAa,CAAC,EAAE,CAAC;wBACjBE,SAAS,CAAC,EAAE,CAAC;wBACbE,MAAM,CAAC,EAAE,CAAC;sBACZ;sBACAI,eAAe,CAAC,KAAK,CAAC;oBACxB;kBACF;gBAAE;kBAAAiC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACF1E,OAAA;kBAAAsE,QAAA,EAAM;gBAA8C;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC3D1E,OAAA;kBAAOoE,KAAK,EAAE;oBAAE6E,UAAU,EAAE,EAAE;oBAAEN,KAAK,EAAE;kBAAU,CAAE;kBAAArE,QAAA,GAAC,kBAClC,EAACnC,SAAS,CAACN,UAAU,GAAGM,SAAS,CAACN,UAAU,CAACiE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAC,GAC/E;gBAAA;kBAAAvB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CACN,eAED1E,OAAA;cAAKoE,KAAK,EAAE8D,MAAM,CAACsC,SAAU;cAAAlG,QAAA,gBAC3BtE,OAAA;gBAAAsE,QAAA,EAAO;cAAiB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChC1E,OAAA;gBACEoK,IAAI,EAAC,OAAO;gBACZhG,KAAK,EAAE;kBAAE,GAAG8D,MAAM,CAAC6B,KAAK;kBAAEU,WAAW,EAAEhH,MAAM,CAAChC,KAAK,GAAG,SAAS,GAAG;gBAAU,CAAE;gBAC9EiJ,WAAW,EAAC,mBAAmB;gBAC/BjF,KAAK,EAAEhE,KAAM;gBACbqI,QAAQ,EAAGzE,CAAC,IAAK;kBACf3D,QAAQ,CAAC2D,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;kBACxB,IAAIhC,MAAM,CAAChC,KAAK,EAAE;oBAChBiC,SAAS,CAAC;sBAAE,GAAGD,MAAM;sBAAEhC,KAAK,EAAE;oBAAG,CAAC,CAAC;kBACrC;gBACF;cAAE;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACDjB,MAAM,CAAChC,KAAK,iBACXzB,OAAA;gBAAGoE,KAAK,EAAE8D,MAAM,CAACyC,YAAa;gBAAArG,QAAA,EAAEb,MAAM,CAAChC;cAAK;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CACjD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAEN1E,OAAA;cAAKoE,KAAK,EAAE8D,MAAM,CAACsC,SAAU;cAAAlG,QAAA,gBAC3BtE,OAAA;gBAAAsE,QAAA,EAAO;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3B1E,OAAA;gBACEoK,IAAI,EAAC,MAAM;gBACXhG,KAAK,EAAE;kBAAE,GAAG8D,MAAM,CAAC6B,KAAK;kBAAEU,WAAW,EAAEhH,MAAM,CAAC9B,QAAQ,GAAG,SAAS,GAAG;gBAAU,CAAE;gBACjF+I,WAAW,EAAC,UAAU;gBACtBjF,KAAK,EAAE9D,QAAS;gBAChBmI,QAAQ,EAAGzE,CAAC,IAAK;kBACfzD,WAAW,CAACyD,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;kBAC3B,IAAIhC,MAAM,CAAC9B,QAAQ,EAAE;oBACnB+B,SAAS,CAAC;sBAAE,GAAGD,MAAM;sBAAE9B,QAAQ,EAAE;oBAAG,CAAC,CAAC;kBACxC;gBACF,CAAE;gBACFiJ,QAAQ,EAAEvI;cAAa;gBAAAkC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC,EACDjB,MAAM,CAAC9B,QAAQ,iBACd3B,OAAA;gBAAGoE,KAAK,EAAE8D,MAAM,CAACyC,YAAa;gBAAArG,QAAA,EAAEb,MAAM,CAAC9B;cAAQ;gBAAA4C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CACpD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAEN1E,OAAA;cAAKoE,KAAK,EAAE8D,MAAM,CAACsC,SAAU;cAAAlG,QAAA,gBAC3BtE,OAAA;gBAAAsE,QAAA,EAAO;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC1B1E,OAAA;gBACEoK,IAAI,EAAC,MAAM;gBACXhG,KAAK,EAAE;kBAAE,GAAG8D,MAAM,CAAC6B,KAAK;kBAAEU,WAAW,EAAEhH,MAAM,CAAC5B,UAAU,GAAG,SAAS,GAAG;gBAAU,CAAE;gBACnF6I,WAAW,EAAC,qBAAqB;gBACjCG,SAAS,EAAC,IAAI;gBACdpF,KAAK,EAAE5D,UAAW;gBAClBiI,QAAQ,EAAGzE,CAAC,IAAK;kBACf,MAAMI,KAAK,GAAGJ,CAAC,CAACG,MAAM,CAACC,KAAK,CAACqF,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;kBAC/ChJ,aAAa,CAAC2D,KAAK,CAAC;kBACpB,IAAIhC,MAAM,CAAC5B,UAAU,EAAE;oBACrB6B,SAAS,CAAC;sBAAE,GAAGD,MAAM;sBAAE5B,UAAU,EAAE;oBAAG,CAAC,CAAC;kBAC1C;gBACF,CAAE;gBACF+I,QAAQ,EAAEvI;cAAa;gBAAAkC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC,EACDjB,MAAM,CAAC5B,UAAU,iBAChB7B,OAAA;gBAAGoE,KAAK,EAAE8D,MAAM,CAACyC,YAAa;gBAAArG,QAAA,EAAEb,MAAM,CAAC5B;cAAU;gBAAA0C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CACtD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAEN1E,OAAA;cAAKoE,KAAK,EAAE8D,MAAM,CAAC2B,SAAU;cAAAvF,QAAA,gBAC3BtE,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAO;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACzB1E,OAAA;kBACEoK,IAAI,EAAC,MAAM;kBACXhG,KAAK,EAAE;oBAAE,GAAG8D,MAAM,CAAC6B,KAAK;oBAAEU,WAAW,EAAEhH,MAAM,CAAC1B,MAAM,GAAG,SAAS,GAAG;kBAAU,CAAE;kBAC/E2I,WAAW,EAAC,OAAO;kBACnBG,SAAS,EAAC,GAAG;kBACbpF,KAAK,EAAE1D,MAAO;kBACd+H,QAAQ,EAAGzE,CAAC,IAAK;oBACf,IAAII,KAAK,GAAGJ,CAAC,CAACG,MAAM,CAACC,KAAK,CAACqF,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;oBAE7C,IAAIrF,KAAK,CAACE,MAAM,IAAI,CAAC,EAAE;sBACrBF,KAAK,GAAGA,KAAK,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGL,KAAK,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;oBACrD;oBACA9D,SAAS,CAACyD,KAAK,CAAC;oBAChB,IAAIhC,MAAM,CAAC1B,MAAM,EAAE;sBACjB2B,SAAS,CAAC;wBAAE,GAAGD,MAAM;wBAAE1B,MAAM,EAAE;sBAAG,CAAC,CAAC;oBACtC;kBACF,CAAE;kBACF6I,QAAQ,EAAEvI;gBAAa;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxB,CAAC,EACDjB,MAAM,CAAC1B,MAAM,iBACZ/B,OAAA;kBAAGoE,KAAK,EAAE8D,MAAM,CAACyC,YAAa;kBAAArG,QAAA,EAAEb,MAAM,CAAC1B;gBAAM;kBAAAwC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAClD;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eAEN1E,OAAA;gBAAAsE,QAAA,gBACEtE,OAAA;kBAAAsE,QAAA,EAAO;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAClB1E,OAAA;kBACEoK,IAAI,EAAC,UAAU;kBACfhG,KAAK,EAAE;oBAAE,GAAG8D,MAAM,CAAC6B,KAAK;oBAAEU,WAAW,EAAEhH,MAAM,CAACxB,GAAG,GAAG,SAAS,GAAG;kBAAU,CAAE;kBAC5EyI,WAAW,EAAC,KAAK;kBACjBG,SAAS,EAAC,GAAG;kBACbpF,KAAK,EAAExD,GAAI;kBACX6H,QAAQ,EAAGzE,CAAC,IAAK;oBACf,MAAMI,KAAK,GAAGJ,CAAC,CAACG,MAAM,CAACC,KAAK,CAACqF,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;oBAC/C5I,MAAM,CAACuD,KAAK,CAAC;oBACb,IAAIhC,MAAM,CAACxB,GAAG,EAAE;sBACdyB,SAAS,CAAC;wBAAE,GAAGD,MAAM;wBAAExB,GAAG,EAAE;sBAAG,CAAC,CAAC;oBACnC;kBACF;gBAAE;kBAAAsC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,EACDjB,MAAM,CAACxB,GAAG,iBACTjC,OAAA;kBAAGoE,KAAK,EAAE8D,MAAM,CAACyC,YAAa;kBAAArG,QAAA,EAAEb,MAAM,CAACxB;gBAAG;kBAAAsC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAC/C;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAELvD,MAAM,IAAI,CAACgB,SAAS,iBACnBnC,OAAA;cAAKoE,KAAK,EAAE;gBAAE8F,OAAO,EAAE,MAAM;gBAAEa,cAAc,EAAE,UAAU;gBAAEtC,SAAS,EAAE;cAAG,CAAE;cAAAnE,QAAA,eACzEtE,OAAA;gBAAOoE,KAAK,EAAE;kBAAE8F,OAAO,EAAE,MAAM;kBAAEK,UAAU,EAAE,QAAQ;kBAAEJ,GAAG,EAAE;gBAAE,CAAE;gBAAA7F,QAAA,gBAC9DtE,OAAA;kBACEoK,IAAI,EAAC,UAAU;kBACfC,OAAO,EAAE5H,kBAAmB;kBAC5BqH,QAAQ,EAAGzE,CAAC,IAAK3C,qBAAqB,CAAC2C,CAAC,CAACG,MAAM,CAAC6E,OAAO;gBAAE;kBAAA9F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D,CAAC,eACF1E,OAAA;kBAAMoE,KAAK,EAAE;oBAAE4E,QAAQ,EAAE;kBAAG,CAAE;kBAAA1E,QAAA,EAAC;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EAELvD,MAAM,iBACLnB,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEhDvB,cAAc,gBACbnD,OAAA;cAAGoE,KAAK,EAAE;gBAAE4G,SAAS,EAAE,QAAQ;gBAAErC,KAAK,EAAE;cAAO,CAAE;cAAArE,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,GACtEzB,OAAO,gBACTjD,OAAA;cAAAsE,QAAA,gBACEtE,OAAA;gBAAKoE,KAAK,EAAE8D,MAAM,CAAC+C,aAAc;gBAAA3G,QAAA,gBAC/BtE,OAAA;kBAAKoE,KAAK,EAAE8D,MAAM,CAACgD,aAAc;kBAAA5G,QAAA,gBAC/BtE,OAAA;oBAAGoE,KAAK,EAAE;sBAAE4E,QAAQ,EAAE,EAAE;sBAAEL,KAAK,EAAE,MAAM;sBAAEwC,MAAM,EAAE;oBAAY,CAAE;oBAAA7G,QAAA,EAAC;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eAChF1E,OAAA;oBAAGoE,KAAK,EAAE;sBAAE4E,QAAQ,EAAE,EAAE;sBAAEoC,UAAU,EAAE,GAAG;sBAAEzC,KAAK,EAAE,SAAS;sBAAEwC,MAAM,EAAE;oBAAE,CAAE;oBAAA7G,QAAA,EACtErB,OAAO,CAACoI;kBAAW;oBAAA9G,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eACN1E,OAAA;kBAAGoE,KAAK,EAAE;oBAAEuE,KAAK,EAAE,MAAM;oBAAEK,QAAQ,EAAE,EAAE;oBAAEC,UAAU,EAAE;kBAAG,CAAE;kBAAA3E,QAAA,EAAC;gBAE3D;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,EAELzB,OAAO,CAACoI,WAAW,IAAI,KAAK,iBAC3BrL,OAAA;gBAAKoE,KAAK,EAAE;kBAAEqE,SAAS,EAAE;gBAAG,CAAE;gBAAAnE,QAAA,gBAC5BtE,OAAA;kBAAOoE,KAAK,EAAE;oBAAE8F,OAAO,EAAE,MAAM;oBAAEK,UAAU,EAAE,QAAQ;oBAAEJ,GAAG,EAAE;kBAAE,CAAE;kBAAA7F,QAAA,gBAC9DtE,OAAA;oBACEoK,IAAI,EAAC,UAAU;oBACfC,OAAO,EAAEhH,UAAW;oBACpByG,QAAQ,EAAGzE,CAAC,IAAK;sBACf/B,aAAa,CAAC+B,CAAC,CAACG,MAAM,CAAC6E,OAAO,CAAC;sBAC/B,IAAI,CAAChF,CAAC,CAACG,MAAM,CAAC6E,OAAO,EAAE;wBACrB7G,eAAe,CAAC,CAAC,CAAC;sBACpB;oBACF;kBAAE;oBAAAe,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eACF1E,OAAA;oBAAMoE,KAAK,EAAE;sBAAE4E,QAAQ,EAAE,EAAE;sBAAEoC,UAAU,EAAE;oBAAI,CAAE;oBAAA9G,QAAA,EAAC;kBAAqB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvE,CAAC,EAEPrB,UAAU,iBACTrD,OAAA;kBAAKoE,KAAK,EAAE;oBAAEqE,SAAS,EAAE,EAAE;oBAAEQ,UAAU,EAAE,EAAE;oBAAE5E,OAAO,EAAE,WAAW;oBAAEiH,UAAU,EAAE,SAAS;oBAAEC,YAAY,EAAE,CAAC;oBAAEC,MAAM,EAAE;kBAAoB,CAAE;kBAAAlH,QAAA,gBACvItE,OAAA;oBAAOoE,KAAK,EAAE;sBAAE8F,OAAO,EAAE,OAAO;sBAAEtB,YAAY,EAAE,CAAC;sBAAEI,QAAQ,EAAE,EAAE;sBAAEoC,UAAU,EAAE;oBAAI,CAAE;oBAAA9G,QAAA,EAAC;kBAEpF;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACR1E,OAAA;oBACEoK,IAAI,EAAC,QAAQ;oBACbnF,GAAG,EAAC,OAAO;oBACXwG,IAAI,EAAC,OAAO;oBACZC,GAAG,EAAEzI,OAAO,CAACoI,WAAY;oBACzB5F,KAAK,EAAElC,YAAa;oBACpBuG,QAAQ,EAAGzE,CAAC,IAAK;sBACf,IAAII,KAAK,GAAGF,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC;sBACzC;sBACA,IAAIA,KAAK,GAAG,CAAC,EAAE;wBACbA,KAAK,GAAGT,IAAI,CAAC2G,KAAK,CAAClG,KAAK,GAAG,KAAK,CAAC,GAAG,KAAK;sBAC3C;sBACA;sBACAA,KAAK,GAAGT,IAAI,CAACC,GAAG,CAACQ,KAAK,EAAExC,OAAO,CAACoI,WAAW,CAAC;sBAC5C7H,eAAe,CAACiC,KAAK,CAAC;oBACxB,CAAE;oBACFrB,KAAK,EAAE;sBACLwH,KAAK,EAAE,MAAM;sBACbvH,OAAO,EAAE,UAAU;sBACnBkH,YAAY,EAAE,CAAC;sBACfC,MAAM,EAAE,mBAAmB;sBAC3BxC,QAAQ,EAAE,EAAE;sBACZ6C,SAAS,EAAE;oBACb;kBAAE;oBAAAtH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eACF1E,OAAA;oBAAGoE,KAAK,EAAE;sBAAE4E,QAAQ,EAAE,EAAE;sBAAEL,KAAK,EAAE,MAAM;sBAAEF,SAAS,EAAE,CAAC;sBAAEG,YAAY,EAAE;oBAAE,CAAE;oBAAAtE,QAAA,GAAC,aAC7D,EAAC,CAAEf,YAAY,GAAG,KAAK,GAAI,GAAG,EAAE4B,OAAO,CAAC,CAAC,CAAC,EAAC,MACxD;kBAAA;oBAAAZ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CACN,eAED1E,OAAA;kBAAGoE,KAAK,EAAE;oBAAE4E,QAAQ,EAAE,EAAE;oBAAEL,KAAK,EAAE,MAAM;oBAAEM,UAAU,EAAE,EAAE;oBAAER,SAAS,EAAE;kBAAE,CAAE;kBAAAnE,QAAA,EAAC;gBAEzE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CACN,EAEAzB,OAAO,CAACoI,WAAW,GAAG,KAAK,iBAC1BrL,OAAA;gBAAGoE,KAAK,EAAE;kBAAE4E,QAAQ,EAAE,EAAE;kBAAEL,KAAK,EAAE,MAAM;kBAAEF,SAAS,EAAE,EAAE;kBAAEqD,SAAS,EAAE;gBAAS,CAAE;gBAAAxH,QAAA,GAAC,wEACP,EAACrB,OAAO,CAACoI,WAAW,EAAC,UAC7F;cAAA;gBAAA9G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,gBAEN1E,OAAA;cAAGoE,KAAK,EAAE;gBAAEuE,KAAK,EAAE,MAAM;gBAAEqC,SAAS,EAAE;cAAS,CAAE;cAAA1G,QAAA,EAAC;YAElD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CACJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN,eAED1E,OAAA;YAAKoE,KAAK,EAAE8D,MAAM,CAACW,WAAY;YAAAvE,QAAA,gBAC7BtE,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACY,YAAa;cAAAxE,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAE5C1E,OAAA;cAAAsE,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAClBrD,aAAa,CAACoI,GAAG,CAAC,CAAChD,CAAC,EAAEb,CAAC,kBACtB5F,OAAA;cAAWoE,KAAK,EAAE;gBAAE6E,UAAU,EAAE;cAAG,CAAE;cAAA3E,QAAA,GAClCmC,CAAC,CAAClF,QAAQ,IAAI,aAAaqE,CAAC,GAAG,CAAC,EAAE,EAAC,SAAO,EAACa,CAAC,CAACjF,GAAG,IAAI,GAAG;YAAA,GADlDoE,CAAC;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEN,CACJ,CAAC,eAEF1E,OAAA;cAAIoE,KAAK,EAAE8D,MAAM,CAACiB;YAAU;cAAA5E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAE/B1E,OAAA;cAAAsE,QAAA,EAAI;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvB1E,OAAA;cAAGoE,KAAK,EAAE;gBAAE6E,UAAU,EAAE;cAAG,CAAE;cAAA3E,QAAA,GAAC,cAChB,EAACK,SAAS,EAAC,QAAG,EAACjE,cAAc,eACzCV,OAAA;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,UACA,EAACG,GAAG,eACV7E,OAAA;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EACLrB,UAAU,IAAIJ,OAAO,IAAIA,OAAO,CAACoI,WAAW,IAAI,KAAK,iBACpDrL,OAAA,CAAAE,SAAA;gBAAAoE,QAAA,GAAE,sBACoB,EAACS,eAAe,eACpC/E,OAAA;kBAAAuE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA,eACN,CACH,eACD1E,OAAA;gBAAAsE,QAAA,GAAQ,UAAQ,EAACY,KAAK;cAAA;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B,CAAC,eAEJ1E,OAAA;cAAQoE,KAAK,EAAE8D,MAAM,CAAC6D,YAAa;cAACC,OAAO,EAAEjG,YAAa;cAAAzB,QAAA,EAAC;YAE3D;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAER3B,OAAO,iBACN/C,OAAA;cAAGoE,KAAK,EAAE;gBAAEqE,SAAS,EAAE,EAAE;gBAAEuC,SAAS,EAAE;cAAS,CAAE;cAAA1G,QAAA,EAAEvB;YAAO;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAC/D;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA,eACN,CACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAGD;AACA;AACA;AACA;AACA;AAAAtE,EAAA,CAntBMD,WAAW;EAAA,QACGP,WAAW,EAEZC,WAAW;AAAA;AAAAoM,EAAA,GAHxB9L,WAAW;AAqtBjB,MAAM+H,MAAM,GAAG;EACb;EACAC,IAAI,EAAE;IACJ;IACA+D,UAAU,EAAE,uBAAuB;IACnC;IACAZ,UAAU,EAAE,WAAW;IACvB;IACAa,aAAa,EAAE,EAAE;IACjB;IACAZ,YAAY,EAAE;EAChB,CAAC;EAED;EACAnD,IAAI,EAAE;IACJ;IACAwD,KAAK,EAAE,QAAQ;IACf;IACAT,MAAM,EAAE,WAAW;IACnB;IACA9G,OAAO,EAAE;EACX,CAAC;EAED;EACAgE,SAAS,EAAE;IACT;IACA6B,OAAO,EAAE,MAAM;IACf;IACAkC,aAAa,EAAE,QAAQ;IACvB;IACA7B,UAAU,EAAE,QAAQ;IACpB;IACAJ,GAAG,EAAE;EACP,CAAC;EAED;EACA7B,KAAK,EAAE;IACLU,QAAQ,EAAE,EAAE;IACZoC,UAAU,EAAE;EACd,CAAC;EAED;EACAvC,WAAW,EAAE;IACX;IACA+C,KAAK,EAAE,QAAQ;IACf;IACAN,UAAU,EAAE,OAAO;IACnB;IACAE,MAAM,EAAE,mBAAmB;IAC3B;IACAD,YAAY,EAAE,EAAE;IAChB;IACAlH,OAAO,EAAE,EAAE;IACX;IACAgI,SAAS,EAAE;EACb,CAAC;EAED;EACAvD,YAAY,EAAE;IACZE,QAAQ,EAAE,EAAE;IACZJ,YAAY,EAAE,EAAE;IAChBwC,UAAU,EAAE;EACd,CAAC;EAED;EACArB,KAAK,EAAE;IACL;IACA6B,KAAK,EAAE,MAAM;IACb;IACAvH,OAAO,EAAE,WAAW;IACpB;IACAkH,YAAY,EAAE,CAAC;IACf;IACAC,MAAM,EAAE,mBAAmB;IAC3BxC,QAAQ,EAAE,EAAE;IACZ;IACAP,SAAS,EAAE;EACb,CAAC;EAED;EACAkC,YAAY,EAAE;IACZ;IACAhC,KAAK,EAAE,SAAS;IAChB;IACAK,QAAQ,EAAE,EAAE;IACZ;IACAP,SAAS,EAAE,CAAC;IACZ;IACAG,YAAY,EAAE;EAChB,CAAC;EAED;EACA4B,SAAS,EAAE;IACT5B,YAAY,EAAE;EAChB,CAAC;EAED;EACAiB,SAAS,EAAE;IACT;IACAK,OAAO,EAAE,MAAM;IACf;IACAoC,mBAAmB,EAAE,SAAS;IAC9B;IACAnC,GAAG,EAAE;EACP,CAAC;EAED;EACAG,aAAa,EAAE;IACb;IACAgB,UAAU,EAAE,SAAS;IACrB;IACAjH,OAAO,EAAE,EAAE;IACX;IACAkH,YAAY,EAAE,EAAE;IAChB;IACAC,MAAM,EAAE,mBAAmB;IAC3B;IACA5C,YAAY,EAAE;EAChB,CAAC;EAED;EACAO,SAAS,EAAE;IACT;IACAqC,MAAM,EAAE,CAAC;IACT;IACAe,YAAY,EAAE,gBAAgB;IAC9B;IACApB,MAAM,EAAE;EACV,CAAC;EAED;EACAY,YAAY,EAAE;IACZ;IACAtD,SAAS,EAAE,EAAE;IACb;IACAmD,KAAK,EAAE,MAAM;IACb;IACAN,UAAU,EAAE,SAAS;IACrB;IACAjH,OAAO,EAAE,MAAM;IACf;IACAkH,YAAY,EAAE,CAAC;IACf;IACA5C,KAAK,EAAE,OAAO;IACd;IACAyC,UAAU,EAAE,GAAG;IACf;IACAoB,MAAM,EAAE,SAAS;IACjB;IACAhB,MAAM,EAAE;EACV,CAAC;EAED;EACAjD,WAAW,EAAE;IACXqD,KAAK,EAAE,QAAQ;IACfN,UAAU,EAAE,OAAO;IACnB;IACAjH,OAAO,EAAE,EAAE;IACXkH,YAAY,EAAE,EAAE;IAChB;IACAP,SAAS,EAAE,QAAQ;IACnBQ,MAAM,EAAE;EACV,CAAC;EAED;EACAhD,OAAO,EAAE;IACP;IACAoD,KAAK,EAAE,EAAE;IACTa,MAAM,EAAE,EAAE;IACV;IACAjB,MAAM,EAAE,mBAAmB;IAC3B;IACAkB,SAAS,EAAE,mBAAmB;IAC9B;IACAnB,YAAY,EAAE,KAAK;IACnB;IACAoB,SAAS,EAAE,yBAAyB;IACpC;IACAxB,MAAM,EAAE;EACV,CAAC;EAED;EACAzC,WAAW,EAAE;IACXkD,KAAK,EAAE,QAAQ;IACfN,UAAU,EAAE,OAAO;IACnB;IACAjH,OAAO,EAAE,EAAE;IACXkH,YAAY,EAAE,EAAE;IAChB;IACAP,SAAS,EAAE,QAAQ;IACnBQ,MAAM,EAAE;EACV,CAAC;EAED;EACAP,aAAa,EAAE;IACbf,OAAO,EAAE,MAAM;IACfK,UAAU,EAAE,YAAY;IACxBJ,GAAG,EAAE,EAAE;IACP9F,OAAO,EAAE,MAAM;IACfiH,UAAU,EAAE,SAAS;IACrBC,YAAY,EAAE,CAAC;IACfC,MAAM,EAAE;EACV,CAAC;EAED;EACAN,aAAa,EAAE;IACb0B,IAAI,EAAE;EACR;AACF,CAAC;;AAED;AACA,eAAezM,WAAW;AAAC,IAAA8L,EAAA;AAAAY,YAAA,CAAAZ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}